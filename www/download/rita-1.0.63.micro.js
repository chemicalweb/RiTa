(function(p,K){function V(a){return!isNaN(parseFloat(a))&&isFinite(a)}function S(a){var d=[],e;for(e in a)d.push(e);return d}function ga(a){return"undefined"==typeof a||null==a||!a}function q(a){console.log("err(msg) :: "+typeof console.trace);!RiTa.SILENT&&console&&console.trace(this);throw Error("[RiTa] "+a);}function y(){if(!RiTa.SILENT&&console&&arguments&&arguments.length){console.warn("[WARN] "+arguments[0]);for(var a=1;a<arguments.length;a++)console.warn("  "+arguments[a])}}function T(){if(!RiTa.SILENT&&
console)for(var a=0;a<arguments.length;a++)console.log(arguments[a])}function w(a){return typeof a===u&&0<a.length}function L(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function pa(a,d){for(var e=0;e<d.length;e++)a.push(d[e])}function qa(a,d,e){return a&&n(d,u)?a.replace(new RegExp(d,"g"),e):a}function H(a,d){return n(a,u)?a.slice(-d.length)==d:!1}function P(a,d){return n(a,u)?a.slice(0,d.length)==d:!1}function q(a){throw Error("[RiTa] "+a);}function W(a,d){return n(a,u)&&n(d,u)?a.toLowerCase()===
d.toLowerCase():!1}function B(){return function(a){if(this instanceof arguments.callee)"function"==typeof this.init&&this.init.apply(this,a&&a.callee?a:arguments);else return new arguments.callee(arguments)}}function $(){var a=arguments,d=a.length,e={r:0,g:0,b:0,a:this&&this.alpha?this.alpha():255};if(!d)return e;if(1==d&&n(a[0],C))return $.apply(this,a[0]);3<=d&&(e.r=a[0],e.g=a[1],e.b=a[2]);4==d&&(e.a=a[3]);2>=d&&(e.r=a[0],e.g=a[0],e.b=a[0]);2==d&&(e.a=a[1]);return e}function aa(a){a=a.slice();for(var d=
a.length,e=d;e--;){var g=parseInt(Math.random()*d),b=a[e];a[e]=a[g];a[g]=b}return a}function U(){return"undefined"!=typeof module&&module.exports}function F(a,d){return a?-1<a.indexOf(d):!1}var x={N:"number",S:"string",O:"object",A:"array",B:"boolean",R:"regexp",F:"function",get:function(a){return"undefined"==typeof a?null:{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},is:function(a,d){return x.get(a)===d},ok:function(a,d){if(x.get(a)!=d)throw TypeError("Expected "+(d?d.toUpperCase():
d+m)+", but received "+(a?x.get(a).toUpperCase():a+m));return!0}},n=x.is,Q=x.ok,s={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?0.5*
a*a*a*a:-0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>
(a*=2)?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var d,e=0.1;if(0===a)return 0;if(1===a)return 1;!e||1>e?(e=1,d=0.1):d=0.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*(a-=1))*Math.sin(2*(a-d)*Math.PI/0.4))},Out:function(a){var d,e=0.1;if(0===a)return 0;if(1===a)return 1;
!e||1>e?(e=1,d=0.1):d=0.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*a)*Math.sin(2*(a-d)*Math.PI/0.4)+1},InOut:function(a){var d,e=0.1;if(0===a)return 0;if(1===a)return 1;!e||1>e?(e=1,d=0.1):d=0.4*Math.asin(1/e)/(2*Math.PI);return 1>(a*=2)?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin(2*(a-d)*Math.PI/0.4):e*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-d)*Math.PI/0.4)*0.5+1}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>
(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(a){return 1-s.Bounce.Out(1-a)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},InOut:function(a){return 0.5>a?0.5*s.Bounce.In(2*a):0.5*s.Bounce.Out(2*a-1)+0.5}}},X={Linear:function(a,d){var e=a.length-1,g=e*d,b=Math.floor(g),k=X.Utils.Linear;return 0>d?k(a[0],a[1],g):1<d?k(a[e],a[e-1],e-g):
k(a[b],a[b+1>e?e:b+1],g-b)},Bezier:function(a,d){var e=0,g=a.length-1,b=Math.pow,k=X.Utils.Bernstein,l;for(l=0;l<=g;l++)e+=b(1-d,g-l)*b(d,l)*a[l]*k(g,l);return e},CatmullRom:function(a,d){var e=a.length-1,g=e*d,b=Math.floor(g),k=X.Utils.CatmullRom;return a[0]===a[e]?(0>d&&(b=Math.floor(g=e*(1+d))),k(a[(b-1+e)%e],a[b],a[(b+1)%e],a[(b+2)%e],g-b)):0>d?a[0]-(k(a[0],a[0],a[1],a[1],-g)-a[0]):1<d?a[e]-(k(a[e],a[e],a[e-1],a[e-1],g-e)-a[e]):k(a[b?b-1:0],a[b],a[e<b+1?e:b+1],a[e<b+2?e:b+2],g-b)},Utils:{Linear:function(a,
d,e){return(d-a)*e+a},Bernstein:function(a,d){var e=X.Utils.Factorial;return e(a)/e(d)/e(a-d)},Factorial:function(){var a=[1];return function(d){var e=1,g;if(a[d])return a[d];for(g=d;1<g;g--)e*=g;return a[d]=e}}(),CatmullRom:function(a,d,e,g,b){a=0.5*(e-a);g=0.5*(g-d);var k=b*b;return(2*d-2*e+a+g)*b*k+(-3*d+3*e-2*a-g)*k+a*b+d}}};RiTa={VERSION:"##version##",SPLIT_CONTRACTIONS:!1,MOVE_TO:"MoveTo",COLOR_TO:"ColorTo",FADE_IN:"FadeIn",FADE_OUT:"FadeOut",TEXT_TO:"TextTo",TIMER:"Timer",SCALE_TO:"ScaleTo",
ROTATE_TO:"RotateTo",TEXT_ENTERED:"TextEntered",BOUNDING_ALPHA:"BoundingAlpha",DATA_LOADED:"DataLoaded",UNKNOWN:"Unknown",INTERNAL:"Internal",LERP:"Lerp",JAVA:1,JS:2,NODE:3,LEFT:37,UP:38,RIGHT:39,DOWN:40,CENTER:3,LINEAR:s.Linear.None,EASE_IN:s.Exponential.In,EASE_OUT:s.Exponential.Out,EASE_IN_OUT:s.Exponential.InOut,EASE_IN_EXPO:s.Exponential.In,EASE_OUT_EXPO:s.Exponential.Out,EASE_IN_OUT_EXPO:s.Exponential.InOut,EASE_IN_SINE:s.Sinusoidal.In,EASE_OUT_SINE:s.Sinusoidal.Out,EASE_IN_OUT_SINE:s.Sinusoidal.InOut,
EASE_IN_CUBIC:s.Cubic.In,EASE_OUT_CUBIC:s.Cubic.Out,EASE_IN_OUT_CUBIC:s.Cubic.InOut,EASE_IN_QUARTIC:s.Quartic.In,EASE_OUT_QUARTIC:s.Quartic.Out,EASE_IN_OUT_QUARTIC:s.Quartic.InOut,EASE_IN_QUINTIC:s.Quintic.In,EASE_OUT_QUINTIC:s.Quintic.Out,EASE_IN_OUT_QUINTIC:s.Quintic.InOut,BACK_IN:s.Back.In,BACK_OUT:s.Back.Out,BACK_IN_OUT:s.Back.InOut,BOUNCE_IN:s.Bounce.In,BOUNCE_OUT:s.Bounce.Out,BOUNCE_IN_OUT:s.Bounce.InOut,CIRCULAR_IN:s.Circular.In,CIRCULAR_OUT:s.Circular.Out,CIRCULAR_IN_OUT:s.Circular.InOut,
ELASTIC_IN:s.Elastic.In,ELASTIC_OUT:s.Elastic.Out,ELASTIC_IN_OUT:s.Elastic.InOut,PHONEMES:"phonemes",STRESSES:"stresses",SYLLABLES:"syllables",FIRST_PERSON:1,SECOND_PERSON:2,THIRD_PERSON:3,PAST_TENSE:4,PRESENT_TENSE:5,FUTURE_TENSE:6,SINGULAR:7,PLURAL:8,NORMAL:9,FEATURE_DELIM:":",STRESSED:"1",UNSTRESSED:"0",PHONEME_BOUNDARY:"-",WORD_BOUNDARY:" ",SYLLABLE_BOUNDARY:"/",SENTENCE_BOUNDARY:"|",VOWELS:"aeiou",ABBREVIATIONS:"Adm. Capt. Cmdr. Col. Dr. Gen. Gov. Lt. Maj. Messrs. Mr. Mrs. Ms. Prof. Rep. Reps. Rev. Sen. Sens. Sgt. Sr. St. a.k.a. c.f. i.e. e.g. vs. v. Jan. Feb. Mar. Apr. Mar. Jun. Jul. Aug. Sept. Oct. Nov. Dec.".split(" "),
INFINITIVE:1,GERUND:2,IMPERATIVE:3,BARE_INFINITIVE:4,SUBJUNCTIVE:5,SILENT:!1,start:function(){},untokenize:function(a,d,e){d=d||r;e=a[0]||m;for(var g=1;g<a.length;g++)a[g]&&(RiTa.isPunctuation(a[g])||(e+=d),e+=a[g]);return e.trim()},random:function(){var a=Math.random();if(0===arguments.length)return a;if(1===arguments.length)return a*arguments[0];var d=arguments[0];return a*(arguments[1]-d)+d},randomItem:function(a){return a[Math.floor(Math.random()*a.length)]},distance:function(a,d,e,g){a-=e;d-=
g;return Math.sqrt(a*a+d*d)},timer:function(a,d){var e=arguments;e.length&&n(e[0],I)&&(e=Array.prototype.slice.call(e,1));if(1>e.length)throw Error("Bad args to RiTa.timer("+e+")");d=1<e.length?e[1]:null;e=new ra(function(){G(RiTa,"tick")._fire(d)},1E3*[e[0]],!0);e.go();var g=e.id();R[g]=e;return g},stopTimer:function(a){R[a]?R[a].stop():y("no timer with id: "+a)},pauseTimer:function(a,d){console.log("id: "+a);d=n(d,N)?d:Number.MAX_VALUE;if(R[a])return R[a].pause(),console.log("OK-theId: "+a),setTimeout(function(){R[a]?
R[a].play():y("no timer!!!")},1E3*d),a;y("no timer with id: "+a);return-1},_isPosTag:function(a){return z.isTag(a)},_tagForPENN:function(a){if(!a||!a.length)return J;a=n(a,u)?RiTa.tokenize(a):a;return z.tag(a)},_tagForWordNet:function(a){posArr=RiTa._tagForPENN(a);if(a&&posArr.length){for(a=0;a<posArr.length;a++){var d=posArr[a];posArr[a]="-";z.isNoun(d)?posArr[a]="n":z.isVerb(d)?posArr[a]="v":z.isAdverb(d)?posArr[a]="r":z.isAdj(d)&&(posArr[a]="a")}return posArr}return J},getPosTags:function(a,d){return d?
RiTa._tagForWordNet(a):RiTa._tagForPENN(a)},getPosTagsInline:function(a,d){if(!a||!a.length)return m;d=d||"/";a=n(a,u)?RiTa.tokenize(a):a;for(var e=m,g=RiTa.getPosTags(a),b=0;b<a.length;b++)e+=a[b],RiTa.isPunctuation(a[b])||(e+=d+g[b]),e+=r;return e.trim()},posToWordNet:function(a){if(!w(a))return m;if(z.isNoun(a))return"n";if(z.isVerb(a))return"v";if(z.isAdverb(a))return"r";if(z.isAdj(a))return"a";y(a+" is not a valid pos-tag");return"-"},getPresentParticiple:function(a){return ba().getPresentParticiple(a)},
getPastParticiple:function(a){return ba().getPastParticiple(a)},conjugate:function(a,d){return ba().conjugate(a,d)},upperCaseFirst:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},pluralize:function(a){if(!w(a))return m;var d,e,g=za;if(F(ha,a.toLowerCase()))return a;for(d=0;d<g.length;d++)if(e=g[d],e.applies(a.toLowerCase()))return e.fire(a);return Aa.fire(a)},singularize:function(a){if(!w(a))return m;var d,e,g=Ba;if(F(ha,a.toLowerCase()))return a;for(d=g.length;d--;)if(e=g[d],e.applies(a.toLowerCase()))return e.fire(a);
return this.stem(a,"Pling")},trim:function(a){return L(a)},tokenize:function(a,d){if(d)return a.split(d);a=L(a).replace(/``/g,"`` ");a=a.replace(/''/g,"  ''");a=a.replace(/([\\?!\"\\.,;:@#$%&])/g," $1 ");a=a.replace(/\\.\\.\\./g," ... ");a=a.replace(/\\s+/g,r);a=a.replace(/,([^0-9])/g," , $1");a=a.replace(/([^.])([.])([\])}>\"']*)\\s*$/g,"$1 $2$3 ");a=a.replace(/([\[\](){}<>])/g," $1 ");a=a.replace(/--/g," -- ");a=a.replace(/$/g,r);a=a.replace(/^/g,r);a=a.replace(/([^'])' /g,"$1 ' ");a=a.replace(/'([SMD]) /g,
" '$1 ");RiTa.SPLIT_CONTRACTIONS&&(a=a.replace(/'ll /g," 'll "),a=a.replace(/'re /g," 're "),a=a.replace(/'ve /g," have "),a=a.replace(/n't /g," not "),a=a.replace(/'LL /g," 'LL "),a=a.replace(/'RE /g," 'RE "),a=a.replace(/'VE /g," 'VE "),a=a.replace(/N'T /g," N'T "));a=a.replace(/ ([Cc])an't /g," $1an not ");a=a.replace(/ ([Cc])annot /g," $1an not ");a=a.replace(/ ([Dd])idn't /g," $1id not ");a=a.replace(/ ([CcWw])ouldn't /g," $1ould not ");a=a.replace(/ ([A-Z]) \\./g," $1. ");a=a.replace(/\\s+/g,
r);a=a.replace(/^\\s+/g,m);return L(a).split(/\s+/)},splitSentences:function(a,d){var e=a.match(/(\S.+?[.!?])(?=\s+|$)/g);return a.length&&e&&e.length?e:[a]},_regexMatch:function(a,d){if(!a||!d)return!1;typeof d===u&&(d=new RegExp(d));return d.test(a)},_regexReplace:function(a,d,e){if(!a||!d)return m;typeof d===u&&(d=new RegExp(d));return a.replace(d,e)},isAbbreviation:function(a,d){a=d?a:RiTa._titleCase(a);return F(this.ABBREVIATIONS,a)},_loadStringNode:function(a,d,e){var g="",b=e||r,k=this;if(/.+?:\/\/.+/.test(a)){var l=
require("http").request(a,function(e){e.on("data",function(a){g+=a});e.on("error",function(a){throw a;});e.on("end",function(){g=g.toString("utf-8").replace(/[\r\n]+/g,b).trim();k.fireDataLoaded(a,d,g)})});l.on("socket",function(a){a.setTimeout(3E3);a.on("timeout",function(){l.abort();throw Error("[RiTa] loadString timed-out and aborted request");})});l.end()}else require("fs").readFile(a,function(e,g){if(e||!g)throw q("[Node] Error reading file: "+a+"\n"+e),e;g=g.toString("utf-8").replace(/[\r\n]+/g,
b).trim();k.fireDataLoaded(a,d,g)})},_loadStringDOM:function(a,d,e){var g=e||r,b,k=this;if("undefined"==typeof document||!document)throw Error("Document 'undefined' (are you running in a browser?)");e=document.createElement("iframe");e.setAttribute("src",a);e.setAttribute("style","display: none");if(!document.body)return console.error("[RiTa] loadString() found null document.body!"),m;document.body.appendChild(e);b=e.contentWindow||e.contentDocument.parentWindow;b.onload=function(){var e="[RiTa] loadString() unexpected error!";
b&&b.document&&b.document.body&&b.document.body.childNodes&&b.document.body.childNodes.length?e=b.document.body.childNodes[0].innerHTML:console.error("[RiTa] loadString("+a+") failed trying iFrame-load");if(!e)return console.error("[RiTa] loadString("+a+") unable to load text from: "+a),m;var e=e.replace(/[\r\n]+/g,g).trim(),h=document.createElement("div");h.innerHTML=e;e=0===h.childNodes.length?m:h.childNodes[0].nodeValue;k.fireDataLoaded(a,d,e)}},loadStrings:function(a,d){if(n(a,C))throw Error("RiTa.loadStrings() does not accept multiple urls");
var e=this.fireDataLoaded;this.loadString(a,function(g){g=g.split("\n");e(a,d,g)},"\n")},loadString:function(a,d,e){var g=U()?this._loadStringNode:this._loadStringDOM;if(n(a,C))for(var b="",k=a[a.length-1],l=0,h=a.length;l<h;l++){var m=this.fireDataLoaded;g.call(this,a[l],function(e,g){b+=e;g===k&&m(a,d,b)},e)}else Q(a,u)&&g.call(this,a,d,e)},fireDataLoaded:function(a,d,e){return d?d(e,a):G({name:"RiTaLoader",urls:n(a,u)?[a]:a},RiTa.DATA_LOADED,e)._fire()},isQuestion:function(a){a=RiTa.tokenize(a);
for(var d=0;d<sa.length;d++)if(W(a[0],sa[d]))return!0;return!1},isSentenceEnd:function(a,d){if(!n(a,u)||!n(d,u))return!1;var e=a.charAt(0),g=a.length;if(RiTa.isAbbreviation(a)||1<g&&-1!=e.indexOf("`'\"([{<")&&RiTa.isAbbreviation(a.substring(1))||2<g&&("'"==a.charAt(0)&&"'"==a.charAt(1)||"`"==a.charAt(0)&&"`"==a.charAt(1))&&RiTa.isAbbreviation(a.substring(2)))return!1;var b=d.length,e=a.charAt(g-1),k=1<g?a.charAt(g-2):" ",l=2<g?a.charAt(g-3):" ",h=d.charAt(0),m=1<b?d.charAt(1):" ",b=2<b?d.charAt(2):
" ";return h==h.toUpperCase()||m==m.toUpperCase()&&-1!=h.indexOf("`'\"([{<")||b==b.toUpperCase()&&("`"==h&&"`"==m||"'"==h&&"'"==m)||"_"==d||"<"==h?"?"==e||"!"==e||-1!=k.indexOf("?!.")&&-1!=e.indexOf("\"'}>)")||-1!=l.indexOf("?!.")&&"'"==k&&"'"==e?!0:"."!=e||2==g&&k==k.toUpperCase()||4==g&&"."==l&&k==k.toUpperCase()&&a.charAt(0)==a.charAt(0).toUpperCase()?!1:!0:!1},isW_Question:function(a){a=RiTa.tokenize(a);for(var d=0;d<ta.length;d++)if(W(a[0],ta[d]))return!0;return!1},unescapeHTML:function(a){if(!a||
!a.length)return a;var d=String.fromCharCodePoint;a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"');String.fromCharCodePoint=function(){for(var a=[],d=0;d<arguments.length;d++){var b=arguments[d];65536>arguments[d]?a.push(arguments[d]):1114112>arguments[d]&&(b-=65536,a.push((b>>10&1023)+55296),a.push((b&1023)+56320))}return String.fromCharCode.apply(String,a)};a=a.replace(/&#(\d+);/g,function(a,d){return String.fromCharCodePoint(parseInt(d,10))}).replace(/&#x([0-9a-f]+);/gi,
function(a,d){return String.fromCharCodePoint(parseInt(d,16))});String.fromCharCodePoint=d;return a},randomOrdering:function(a){var d=[];if(a){for(var e=0;e<a;e++)d.push(e);var g,b;for(a=d.length;a;g=parseInt(Math.random()*a),b=d[--a],d[a]=d[g],d[g]=b);}return d},stripPunctuation:function(a){return a===m?m:a.replace(Da,m)},trimPunctuation:function(a){for(var d;0<a.length;){d=a.charAt(0);if(!RiTa.isPunctuation(d))break;a=a.substr(1)}for(;0<a.length;){d=a.charAt(a.length-1);if(!RiTa.isPunctuation(d))break;
a=a.substring(0,a.length-1)}return a},isPunctuation:function(a){return a&&a.length?ua.test(a):!1},hasPunctuation:function(a){return a&&a.length?ua.test(a):!1},asList:function(a){return a?a.join(", ").trim():"[]"},env:function(){return U()?RiTa.NODE:RiTa.JS},chomp:function(a){return a.replace(/\s+$|^\s+/g,m)},getPhonemes:function(a){return A(a).analyze().get(RiTa.PHONEMES)},getStresses:function(a){return A(a).analyze().get(RiTa.STRESSES)},getSyllables:function(a){return A(a).analyze().get(RiTa.SYLLABLES)},
getWordCount:function(a){return RiTa.tokenize(a).length},stem:function(a,d){d=d||"Lancaster";"Lancaster"!=d&&"Porter"!=d&&"Pling"!=d&&q("Bad stemmer type: "+d);var e=ca["stem_"+d];if(0>a.indexOf(r))return e(a);a=a.replace(/[^\w]/g,r);a=a.replace(/\s+/g,r);for(var g=[],b=a.split(r),k=0;k<b.length;k++)g.push(e(b[k]));return g.join(r)},p5Compatible:function(a){arguments.callee.setupAndDraw||(arguments.callee.setupAndDraw=function(){typeof p.setup==D&&setup();typeof p.draw==D&&h.loop()});"undefined"!=
typeof p&&p&&(typeof p.mouseClicked==D&&(p.onmouseup=p.mouseClicked),typeof p.mousePressed==D&&(p.onmousedown=p.mousePressed),typeof p.mouseReleased==D&&(p.onmouseup=p.mouseReleased),typeof p.mouseMoved==D&&(p.onmousemove=p.mouseMoved));a?"undefined"!=typeof p&&p&&!ia&&(p.LEFT||(p.LEFT=RiTa.LEFT),p.RIGHT||(p.RIGHT=RiTa.RIGHT),p.CENTER||(p.CENTER=RiTa.CENTER),p.onload||(p.onload=arguments.callee.setupAndDraw)):"undefined"!=typeof p&&p&&!ia&&(p.RIGHT===RiTa.RIGHT&&delete p.RIGHT,p.LEFT===RiTa.LEFT&&
delete p.LEFT,p.CENTER===RiTa.CENTER&&delete p.CENTER,p.onload&&p.onload==arguments.callee.setupAndDraw&&(p.onload=K))},_titleCase:function(a){return a&&a.length?a.substring(0,1).toUpperCase()+a.substring(1):a},minEditDist:function(a,d,e){return(e?da.computeAdjusted:da.computeRaw)(a,d)}};var M=B();M.MAX_GENERATION_ATTEMPTS=1E3;M._SSRE=/"?[A-Z][a-z"',;`-]*/;M._SSDLM="D=l1m_";M.prototype={init:function(a,d,e){var g=this._initArgs.apply(this,arguments);Q(g[0],N);this._n=g[0];this.pathTrace=[];this.sentenceList=
[];this.sentenceStarts=[];this.minSentenceLength=6;this.maxSentenceLength=35;this.maxDuplicatesToSkip=1E4;this.root=new ja(null,"ROOT");this.isSentenceAware=1<g.length&&!g[1]?!1:!0;this.allowDuplicates=2<g.length&&!g[2]?!1:!0;this.smoothing=this.printIgnoredText=!1},_initArgs:function(){var a=arguments,d=x.get(a[0]);return!a.length||d!==I&&"global"!==d&&"window"!==d?a:(a=Array.prototype.slice.call(a,1),this._initArgs.apply(this,a))},getProbability:function(a){this.root||q("Model not initd: null root!");
return(a=n(a,u)?this.root.lookup(a):this._findNode(a))?a.probability():0},getProbabilities:function(a){n(a,u)&&(a=[a]);a.length>this._n&&(a=a.slice(Math.max(0,a.length-(this._n-1)),a.length));var d={};a=this._findNode(a);if(!a)return{};a=a.childNodes();for(var e=0;e<a.length;e++){var g=a[e];g&&(d[g.token]=g.probability())}return d},getCompletions:function(a,d){var e,g=[],b,k;if(d){a.length+d.length>this._n&&q("Sum of pre.length && post.length must be < N, was "+(a.length+d.length));e=this._findNode(a);
if(!e)return null;k=e.childNodes();for(var l=0;l<k.length;l++){e=k[l];b=a.slice(0);b.push(e.token);for(var h=0;h<d.length;h++)b.push(d[h]);this._findNode(b)&&g.push(e.token)}return g}var m=this.getProbabilities(a);return S(m).sort(function(a,d){return m[d]-m[a]})},generateUntil:function(a,d,e){d=d||1;e=e||Number.MAX_VALUE;var g,b,k=0;a:for(;999>++k;)for(b=this.generateTokens(d);b.length<e;){g=this._nextNodeForArr(b);if(!g||!g.token)continue a;b.push(g.token);if(-1<g.token.search(a))return b}999<=
k&&q("\nRiMarkov failed to complete after "+k+" attempts\n");return b},generateTokens:function(a){var d=0,e=[];a:for(;500>++d;){var b=this.root.selectChild(null,!0);if(!b||!b.token)continue a;for(e.push(b);e.length<a;){b=this._nextNodeForArr(e);if(!b||!b.token){e=[];continue a}e.push(b)}break}e.length<a&&q("\nRiMarkov failed to complete after "+d+" tries, with only "+e.length+" successful generations...\n");a=[];for(d=0;d<e.length;d++)a[d]=e[d].token;return a},useSmoothing:function(a){return arguments.length?
(this.smoothing=a,this):this.smoothing},sentenceAware:function(){if(0<arguments.length)throw Error("sentenceAware() takes no arguments, instead use the constructor RiMarkov(n, recognizeSentences);");return this.isSentenceAware},getN:function(){return this._n},print:function(){console&&console.log(this.root.asTree(!1));return this},ready:function(a){return 0<this.size()},loadFrom:function(a,d,e,b){var f=this;n(a,u)||Q(a,C);RiTa.loadString(a,function(a){f.loadText(a,d,e);b&&n(b,D)&&b(a)})},loadText:function(a,
d,e){Q(a,u);d=d||1;(1>d||d!=Math.floor(d))&&q("Multiplier must be an positive integer, found: "+d);return this.isSentenceAware?this._loadSentences(RiTa.splitSentences(a),d):this.loadTokens(RiTa.tokenize(a,e),d)},loadTokens:function(a,d){d=d||1;(1>d||d!=Math.floor(d))&&q("multiplier must be an positive integer, found: "+d);this.root.count+=a.length;for(var e,b=0;b<a.length;b++){e=[];for(var f=0;f<this._n;f++)e[f]=b+f<a.length?ga(a[b+f])?null:a[b+f]:null;for(f=0;f<d;f++)for(var k=this.root,l=0;l<e.length;l++)k.token&&
(k=k.addChild(e[l],this.smoothing?2:1))}return this},generateSentences:function(a){this.isSentenceAware||q("generateSentences() can only be called when the model is in 'sentence-aware' mode, otherwise use generateTokens()");for(var d=this._getSentenceStart(),e=d.token+r,b=[],f=0,k=0,l=1;b.length<a;)if(l>=this.maxSentenceLength&&(d=this._getSentenceStart(),e=d.token+r,l=1),d.isLeaf())d=this._tracePathFromRoot(d);else if(d=this._nextNodeForNode(d),d.isSentenceStart)l>=this.minSentenceLength&&(d=RiTa.untokenize(e.trim().split(/\s+/)),
d=d.replace(/(.)\( /,"$1 ("),this._validateSentence(d)&&(0>b.indexOf(d)&&b.push(d),k+=f,f=0)),d=this._getSentenceStart(),e=d.token+r,l=1;else if(l++,e+=d.token+r,++f>=M.MAX_GENERATION_ATTEMPTS){this._onGenerationIncomplete(k+f,b.length);break}return b},_validateSentence:function(a){var d=RiTa.tokenize(a),e=d[d.length-1];if(!d[0].match(/[A-Z]\S*/))return this.printIgnoredText&&T("Skipping: bad first char in '"+a+"'"),!1;if(!e.match(/[!?.]/))return this.printIgnoredText&&T("Bad last token: '"+e+"' in: "+
a),!1;if(!this.allowDuplicates&&(this.isSentenceAware||q("Invalid state: allowDuplicates must be true when not generating sentences"),-1<this.sentenceList.indexOf(a)))return++this.skippedDups==this.maxDuplicatesToSkip&&(y("Hit skip-maximum (RiMarkov.maxDuplicatesToSkip="+this.maxDuplicatesToSkip+") after skipping "+this.maxDuplicatesToSkip+", now allowing duplicates!"),this.allowDuplicates=!0),this.printIgnoredText&&T("Ignoring duplicate: "+a),!1;a=a.split(/\s+/);return RiTa.isAbbreviation(a[a.length-
1])?!1:!0},_tracePathFromRoot:function(a){a.pathFromRoot(this.pathTrace);this.pathTrace.pop();for(a=this.root;this.pathTrace.length;){var d=this.pathTrace.pop();a=a.lookup(d)}return a},_nextNodeForArr:function(a){for(var d=Math.max(0,a.length-(this._n-1)),e=this.root.lookup(a[d++]);d<a.length;d++)e&&(e=e.lookup(a[d]));return e?e.selectChild(null,!0):null},_nextNodeForNode:function(a){for(var d=0,e,b=0,f=a.childNodes();;){b=0;e=Math.random();for(var k=0,l=f.length;k<l;k++){var h=f[k],b=b+h.probability();
if((!a.isRoot()||!this.isSentenceAware||h.isSentenceStart())&&e<b)return h}d++;y("Prob. miss (#'+attempts+') in RiMarkov.nextNode(). Make sure there are a sufficient\n       # of sentences in the model that are longer than 'minSentenceLength'");d==MAX_PROB_MISSES&&q("PROB. MISS"+a+" total="+b+" selector="+e)}},_clean:function(a){return RiTa.trim(a.replace(/\s+/,r))},_onGenerationIncomplete:function(a,d){RiTa.SILENT||y("\nRiMarkov failed to complete after "+a+" tries\n       Giving up after "+d+" successful generations\n")},
_loadSentences:function(a,d){Q(a,C);d=Math.min(d||1,1);var e,b,f,k=[];for(e=0;e<a.length;e++)if(b=this._clean(a[e]),this.allowDuplicates||this.sentenceList.push(b),f=RiTa.tokenize(b),this._validSentenceStart(f[0]))for(k.push(M._SSDLM+f[0]),b=1;b<f.length;b++)k.push(f[b]);else this.printIgnoredText&&y("Skipping (bad sentence start): "+f);var l=this.getN();for(e=0;e<k.length;e++){f=[];for(b=0;b<l;b++)e+b<k.length&&(f[b]=k[e+b]);for(b=0;b<d;b++)this._addSentenceSequence(f)}this.root.count+=k.length;
return this},size:function(){return this.root.count},_validSentenceStart:function(a){return!this.isSentenceAware||a&&a.match(M._SSRE)},_addSentenceSequence:function(a){for(var d=this.root,e=0;e<a.length;e++)if(a[e]&&d.token){var b=a[e];if(P(b,M._SSDLM)){var b=b.substring(M._SSDLM.length),f=d,d=d.addChild(b,this.smoothing?2:1);d.isSentenceStart=!0;f.isRoot()&&this.sentenceStarts.push(d.token)}else d=d.addChild(b,this.smoothing?2:1)}},_getSentenceStart:function(){this.isSentenceAware||q("getSentenceStart() can only be called when the model is in 'sentence-aware' mode...");
this.sentenceStarts&&this.sentenceStarts.length||q("No sentence starts found! genSen="+this.isSentenceAware);var a=RiTa.randomItem(this.sentenceStarts);return this.root.lookup(a)},_findNode:function(a){if(!a||!n(a,C)||!a.length)return null;var d=this._n;Math.min(a.length,d-1);var e=Math.max(0,a.length-(d-1)),d=this.root.lookup(a[e++]);if(!d)return null;var b=0,f=[];for(f[b++]=d;e<a.length;e++){d=d.lookup(a[e]);if(!d)return null;f[b++]=d}return f?f[f.length-1]:null}};var G=B();G._callbacksDisabled=
!1;G.prototype={init:function(a,d,e){n(a,I)||Q(a,u);var b=G.prototype.init;b.ID||(b.ID=0);this._id=++b.ID;this._data=e;this._source=a;this._type=d||RiTa.UNKNOWN},toString:function(){var a="RiTaEvent[#"+this._id+" type=("+this._type+") source="+this._source.toString(),a=a+(this._data?" data-length="+this._data.toString().length:a+=" data=null");return a+"]"},source:function(){return this._source},data:function(){return this._data},type:function(){return this._type},isType:function(a){return this._type===
a},_fire:function(a){a=a||p.onRiTaEvent;if(!a){var d=h._graphics();d&&d.onRiTaEvent&&(a=d.onRiTaEvent)}if(a&&n(a,D))try{return a(this),this}catch(e){throw G._callbacksDisabled=!0,y("RiTaEvent: error calling '"+a+"': "+e),e;}G._callbacksDisabled=!0;return this}};var ka=B();ka.prototype={init:function(){throw Error("RiWordNet is not yet implemented in JavaScript!");}};var t=B();t.data=K;t.prototype={init:function(){if(!t.data)if("undefined"!=typeof _RiTa_DICT){t.data={};for(var a in _RiTa_DICT)t.data[a]=
_RiTa_DICT[a]}else q("Dictionary not found! Make sure to include it in your sketch...")},clear:function(){t.data=K;for(var a in t.data)delete t.data[a]},addWord:function(a,d,e){t.data[a.toLowerCase()]=[d.toLowerCase(),e.toLowerCase()];return this},removeWord:function(a){delete t.data[a.toLowerCase()];return this},similarByLetter:function(a,d,e){var b=Number.MAX_VALUE,f=[];if(!a||!a.length)return J;a=a.toLowerCase();d=d||1;e=e||!1;var k,l=a+"s",h=a+"es",m=a.length,n;for(n in t.data)2>n.length||e&&
n.length!=m||n==a||n==l||n==h||!(k=da.computeRaw(n,a))||(k>=d&&k<b?(b=k,f=[n]):k==b&&f.push(n));return f},similarBySound:function(a,d){d=d||1;var e=Number.MAX_VALUE,b,f=[],k,l=(k=RiTa.getPhonemes(a))?k.split("-"):[];if(!l[0]||!a||!a.length)return J;for(b in t.data)if(!(2>b.length)&&(b=b.toLowerCase(),b!=a&&b!=a+"s"&&b!=a+"es")){k=this._getRawPhones(b);if(!k.length&&(k=A._syllabify(v().getPhones(b)),!k))return J;k=k.replace(/1/g,m).replace(/ /g,"-").split("-");k=da.computeRaw(k,l);0!=k&&(k>=d&&k<e?
(e=k,f=[b]):k==e&&f.push(b))}return f},substrings:function(a,d){d=d||0===d||4;var e,b=[];for(e in t.data)e==a||e.length<d||0<=a.indexOf(e)&&b.push(e);return b},superstrings:function(a){var d,e=[];for(d in t.data)d!=a&&0<=d.indexOf(a)&&e.push(d);return e},similarBySoundAndLetter:function(a){var d,e=[];d=this.similarBySound(a);a=this.similarByLetter(a);if(!d||!a)return e;for(var b=0;b<d.length;b++)for(var f=0;f<a.length;f++)d[b]==a[f]&&e.push(a[f]);return e},words:function(){var a=arguments,d=!1,e=
K,b=[],f=S(t.data);switch(a.length){case 2:n(a[0],va)?(d=a[0],e=n(a[1],la)?a[1]:new RegExp(a[1])):(d=a[1],e=n(a[0],la)?a[0]:new RegExp(a[0]));break;case 1:if(n(a[0],va))return a[0]?aa(f):S(f);e=n(a[0],la)?a[0]:new RegExp(a[0]);break;case 0:return aa(f)}for(a=0;a<f.length;a++)f[a].match(e)&&b.push(f[a]);return d?b:aa(b)},_isVowel:function(a){return w(a)&&-1<RiTa.VOWELS.indexOf(a)},_isConsonant:function(a){return typeof a==u&&1==a.length&&0>RiTa.VOWELS.indexOf(a)&&/^[a-z\u00C0-\u00ff]+$/.test(a)},containsWord:function(a){return w(a)&&
t.data&&!ga(t.data[a.toLowerCase()])},isRhyme:function(a,d,e){if(!w(a)||!w(d)||W(a,d))return!1;a=this._lastStressedPhoneToEnd(a,e);d=this._lastStressedPhoneToEnd(d,e);return w(a)&&w(d)&&a===d},rhymes:function(a){if(this.containsWord(a)){var d=this._lastStressedPhoneToEnd(a),e,b,f=[];for(e in t.data)e!==a&&(b=this._getRawPhones(e),w(b)&&H(b,d)&&f.push(e));return 0<f.length?f:J}return J},alliterations:function(a,d){d=d||4;if(this.containsWord(a)){var e,b,f=[],k=this._firstConsonant(this._firstStressedSyllable(a));
for(b in t.data)(e=this._firstConsonant(this._firstStressedSyllable(b)))&&k===e&&b.length>d&&f.push(b);return f}return J},isAlliteration:function(a,d){if(!w(a)||!w(d))return!1;if(W(a,d))return!0;var e=this._firstConsonant(this._firstStressedSyllable(a)),b=this._firstConsonant(this._firstStressedSyllable(d));return w(e)&&w(b)&&e===b},_firstStressedSyllable:function(a){var d=this._getRawPhones(a);a=-1;var e;if(!w(d))return m;a=d.indexOf(RiTa.STRESSED);if(0>a)return m;for(e=d.charAt(--a);" "!=e;){if(0>
--a){a=0;break}e=d.charAt(a)}d=0===a?d:L(d.substring(a));a=d.indexOf(" ");return 0>a?d:d.substring(0,a)},isVerb:function(a){return this._checkType(a,z.VERBS)},isNoun:function(a){return this._checkType(a,z.NOUNS)},isAdverb:function(a){return this._checkType(a,z.ADV)},isAdjective:function(a){return this._checkType(a,z.ADJ)},size:function(){return t.data?S(t.data).length:0},_checkType:function(a,d){if(a&&-1!=a.indexOf(r))throw Error("[RiTa] _checkType() expects a single word, found: "+a);for(var e=this._getPosArr(a),
b=0;b<e.length;b++)if(-1<d.indexOf(e[b]))return!0;return!1},_getSyllables:function(a){if(!w(a))return m;a=RiTa.tokenize(a);for(var d=[],e=0;e<a.length;e++)d[e]=this._getRawPhones(a[e]).replace(/\s/g,"/");return RiTa.untokenize(d).replace(/1/g,m).trim()},_getPhonemes:function(a){if(!w(a))return m;a=RiTa.tokenize(a);for(var d=[],e=0;e<a.length;e++)if(!RiTa.isPunctuation(a[e])){d[e]=this._getRawPhones(a[e]);if(!d[e].length)return m;d[e]=d[e].replace(/ /g,"-")}return RiTa.untokenize(d).replace(/1/g,m).trim()},
_getStresses:function(a){var d=[],e,b=[];e=n(a,C)?a:RiTa.tokenize(a);if(!w(a))return m;for(a=0;a<e.length;a++)RiTa.isPunctuation(e[a])||(b[a]=this._getRawPhones(e[a]));for(a=0;a<b.length;a++)if(b[a]){e=b[a].split(r);for(var f=0;f<e.length;f++){var k=-1<e[f].indexOf(RiTa.STRESSED)?RiTa.STRESSED:RiTa.UNSTRESSED;0<f&&(k="/"+k);d.push(k)}}return d.join(r).replace(/ \//g,"/")},lexicalData:function(a){return 1==arguments.length?(t.data=a,this):t.data},_lookupRaw:function(a){a=a.toLowerCase();return t.data&&
t.data[a]?t.data[a]:null},_getRawPhones:function(a,d){var e=this._lookupRaw(a);d=d||!1;var b;return(e=this._lookupRaw(a))&&d&&(RiTa.SILENT||T("[RiTa] Using letter-to-sound rules for: "+a),(b=v.getInstance().getPhones(a))&&b.length)?A.syllabify(b):e&&2==e.length?e[0]:m},_getPosData:function(a){return(a=this._lookupRaw(a))&&2==a.length?a[1]:m},_getPosArr:function(a){a=this._getPosData(a);return w(a)?a.split(r):J},_getBestPos:function(a){a=this._getPosArr(a);return 0<a.length?a[0]:[]},_firstConsonant:function(a){if(!w(a))return m;
if(a=a.split(RiTa.PHONEME_BOUNDARY))for(var d=0;d<a.length;d++)if(this._isConsonant(a[d].charAt(0)))return a[d];return m},_lastStressedPhoneToEnd:function(a,d){if(!w(a))return m;var e,b,f=this._getRawPhones(a,d);if(!w(f))return m;e=f.lastIndexOf(RiTa.STRESSED);if(0>e)return m;for(b=f.charAt(--e);"-"!=b&&" "!=b;){if(0>--e)return f;b=f.charAt(e)}return f.substring(e+1)},randomWord:function(){var a=!1,d=arguments,e=S(t.data),b=Math.floor(Math.random()*S(t.data).length),f=aa(e);switch(d.length){case 2:d[0]=
L(d[0]);for(e=0;e<z.TAGS.length;e++)z.TAGS[e]==d[0]&&(a=!0);if(a)for(d[0]=d[0].toLowerCase(),a=0;a<f.length;a++)if(e=this._lookupRaw(f[a]),RiTa.getPosTags(f[a]),e[0].split(r).length==d[1]&&d[0]==this._getBestPos(f[a]))return f[a];break;case 1:if(n(d[0],u)){d[0]=L(d[0]);for(e=0;e<z.TAGS.length;e++)z.TAGS[e]==d[0]&&(a=!0);if(a)for(d[0]=d[0].toLowerCase(),a=0;a<f.length;a++)if(e=this._getBestPos(f[a]),d[0]==e)return f[a]}else for(a=0;a<f.length;a++)if(e=this._lookupRaw(f[a]),e[0].split(r).length==d[0])return f[a];
break;case 0:return e[b]}return m}};var A=B();A.phones={consonants:"b ch d dh f g hh jh k l m n ng p r s sh t th v w y z zh".split(" "),vowels:"aa ae ah ao aw ax ay eh er ey ih iy ow oy uh uw".split(" "),onsets:"p;t;k;b;d;g;f;v;th;dh;s;z;sh;ch;jh;m;n;r;l;hh;w;y;p r;t r;k r;b r;d r;g r;f r;th r;sh r;p l;k l;b l;g l;f l;s l;t w;k w;d w;s w;s p;s t;s k;s f;s m;s n;g w;sh w;s p r;s p l;s t r;s k r;s k w;s k l;th w;zh;p y;k y;b y;f y;hh y;v y;th y;m y;s p y;s k y;g y;hh w;".split(";"),digits:"z-ih-r-ow w-ah-n t-uw th-r-iy f-ao-r f-ay-v s-ih-k-s s-eh1-v-ax-n ey-t n-ih-n".split(" ")};
A._syllabify=function(a){var d=[],e=[];a="string"==typeof a?a.split("-"):a;for(var b=0;b<a.length;b++){var f=a[b].trim(),k=K;if(f.length)if(V(f&&f.length?f.charAt(f.length-1):m)&&(k=parseInt(f&&f.length?f.charAt(f.length-1):m),f=f.substring(0,f.length-1)),F(A.phones.vowels,f)){for(var l=K,h=K,n=0;n<d.length+1&&(l=d.slice(0,n),h=d.slice(n,d.length),!F(A.phones.onsets,h.join(" "))&&0!=e.length&&0!=h.length);n++);0<e.length&&pa(e[e.length-1][3],l);e.push([[k],h,[f],[]]);d=[]}else if(F(A.phones.consonants,
f)||" "==f)d.push(f);else throw Error("Invalid phoneme: "+f);}0<d.length&&(0==e.length?e.push([[K],d,[],[]]):pa(e[e.length-1][3],d));return A._stringify(e)};A._stringify=function(a){for(var d=[],e=0;e<a.length;e++){var b=a[e],f=b[0][0],k=b[1],l=b[2],b=b[3];f!=K&&l.length&&(l[0]+=m+f);for(var f=[],h=0;h<k.length;h++)f.push(k[h]);for(h=0;h<l.length;h++)f.push(l[h]);for(h=0;h<b.length;h++)f.push(b[h]);d.push(f.join("-"))}return d.join(r)};A.prototype={init:function(a){n(a,N)&&(a=String.fromCharCode(a));
Q(a,u);this._text=a;this._features=K},copy:function(){var a=A(this._text),d=this.features();a._features={};for(var e in d)a._features[e]=d[e];return a},features:function(){this._features||this.analyze();return this._features},_initFeatureMap:function(){this._features?(delete this._features.tokens,delete this._features.stresses,delete this._features.phonemes,delete this._features.syllables,delete this._features.pos):this._features={};this._features.text=this.text()},analyze:function(){var a=m,d=m,
e=m,b,f,k,h=RiTa.tokenize(this._text),Ca=t();this._features||this._initFeatureMap();for(var n=0,p=h.length;n<p;n++){k=!1;b=Ca._getRawPhones(h[n]);b||(h[n].match(/[a-zA-Z]+/)&&T("[RiTa] Used LTS-rules for '"+h[n]+"'"),f=f||v(),(b=f.getPhones(h[n]))&&0<b.length?b=A._syllabify(b):(b=h[n],k=!0));a+=b.replace(/[0-2]/g,m).replace(/ /g,"-")+r;d+=b.replace(/ /g,"/").replace(/1/g,m)+r;if(k)e+=h[n];else for(k=b.split(r),b=0;b<k.length;b++)k[b].length&&(e+=-1<k[b].indexOf(RiTa.STRESSED)?RiTa.STRESSED:RiTa.UNSTRESSED,
b<k.length-1&&(e+="/"));H(e,r)||(e+=r)}this._features.tokens=h.join(r);this._features.stresses=e.trim();this._features.phonemes=a.trim().replace(/\\s+/,r);this._features.syllables=d.trim().replace(/\\s+/,r);this._features.pos=RiTa.getPosTags(this._text).join(r);return this},get:function(a){this._features||this.analyze();var d=this._features[a];d||this._features.hasOwnProperty(a)||(this.analyze(),d=this._features[a]);return d},set:function(a,d){this._features||(this._features={});this._features[a]=
d;return this},endsWith:function(a){return H(this._text,a)},equals:function(a){return typeof a===u?a===this._text:a.text()===this._text},equalsIgnoreCase:function(a){return typeof a===u?a.toLowerCase()===this._text.toLowerCase():a.text().toLowerCase()===this._text.toLowerCase()},text:function(a){return 0<arguments.length?(this._text=a,this._initFeatureMap(),this):this._text},pos:function(){for(var a=RiTa.tokenize(this._text),d=z.tag(a),e=0,b=d.length;e<b;e++)w(d[e])||q("RiString: can't parse pos for:"+
a[e]);return d},posAt:function(a){var d=this.pos();return!d||!d.length||0>a||a>=d.length?m:d[a]},wordAt:function(a){var d=RiTa.tokenize(this._text);return 0>a||a>=d.length?m:d[a]},wordCount:function(){return this._text.length?this.words().length:0},words:function(){return RiTa.tokenize(this._text)},indexOf:function(a,d){return this._text.indexOf(a,d)},lastIndexOf:function(a,d){return this._text.lastIndexOf(a,d)},length:function(){return this._text.length},match:function(a){return this._text.match(a)||
[]},slice:function(a,d){return this._text.slice(a,d)||m},replaceAll:function(a,d){a&&(d||""===d)&&(this._text=qa(this._text,a,d));return this},insertChar:function(a,d){var e=this.text();if(a>e.length||a<-e.length)return y("RiString.insertChar: bad index="+a),this;a=0>a?a+=e.length:a;var b=e.substring(0,a),e=e.substring(a);d&&(b+=d);return this.text(b+e)},removeChar:function(a){var d=this.text();if(a>d.length||a<-d.length)return y("RiString.removeChar: bad index="+a),this;a=0>a?a+=d.length:a;this.text(this._text.substring(0,
a).concat(this._text.substring(a+1)));return this},replaceChar:function(a,d){var e=this.text();if(a>e.length||a<-e.length)return y("RiString.replaceChar: bad index="+a),this;a=0>a?a+=e.length:a;var e=this.text(),b=e.substring(0,a),e=e.substring(a+1);d&&(b+=d);return this.text(b+e)},replaceFirst:function(a,d){this._text=this._text.replace(a,d);return this},replaceLast:function(a,d){if(!a)return this;var e=this._text;if(n(a,u)){var b=a.length,f=e.lastIndexOf(a);0<=f&&(this._text=e.substring(0,f)+d+
e.substring(f+b))}else{if(b=e.match(a))e=b.pop(),b=this._text.split(e),f=b.pop(),b[b.length-1]+=d+f,e=b.join(e);this._text=e}return this},removeWord:function(a){return this.replaceWord(a,m)},insertWord:function(a,d){var e=this.words();0>a&&(a+=e.length);d&&0<=d.length&&0<=a&&a<e.length&&(e[a]=d+r+e[a],this.text(RiTa.untokenize(e)));return this},replaceWord:function(a,d){var e=this.words();0>a&&(a+=e.length);(d||d===m)&&0<=a&&a<e.length&&(e[a]=d,this.text(RiTa.untokenize(e)));return this},split:function(a,
d){for(var e=this._text.split(a,d),b=[],f=0;f<e.length;f++)e[f]&&b.push(new A(e[f]));return b},startsWith:function(a){return 0==this.indexOf(a)},substr:function(a,d){return this._text.substr(a,d)},substring:function(a,d){return this._text.substring(a,d)},toLowerCase:function(){return this.text(this._text.toLowerCase())},toString:function(){return"RiString["+this._text+"]"},toUpperCase:function(){return this.text(this._text.toUpperCase())},trim:function(){return this.text(L(this._text))},charAt:function(a){return this._text.charAt(a)},
concat:function(a){return this._text.concat(a.text())}};var E=B();E.START_RULE="<start>";E.PROB_PATT=/(.*[^\s])\s*\[([0-9.]+)\](.*)/;E.EXEC_PATT=/(.*?)(`[^`]+?\(.*?\);?`)(.*)/;E.STRIP_TICKS=/`([^`]*)`/g;E.OR_PATT=/\s*\|\s*/;E.prototype={init:function(a){this._rules={};this.execDisabled=!1;a&&(n(a,u)||n(a,I)&&typeof a.loadStrings!==D)&&this.load(a)},ready:function(a){return 0<Object.keys(this._rules).length},loadFrom:function(a,d){RiTa.loadString(a,function(a){this.load(a);n(d,D)&&d(a)}.bind(this))},
load:function(a){var d;this.reset();if(n(a,u))try{a=JSON.parse(a)}catch(e){d=e}if(d||!n(a,I))q("Grammar appears to be invalid JSON, please check it! (http://jsonlint.com/)\n"+a);else{for(var b in a)this.addRule(b,a[b]);return this}},addRule:function(a,d,e){e=e||1;var b=d;n(d,C)||(b=d.split(E.OR_PATT));for(d=0;d<b.length;d++){var f=b[d],k=e,h=E.PROB_PATT.exec(f);null!=h&&(f=h[1]+h[3],k=h[2]);this.hasRule(a)?this._rules[a][f]=k:(h={},h[f]=k,this._rules[a]=h)}return this},removeRule:function(a){delete this._rules[a];
return this},_copy:function(){var a=E(),d;for(d in this._rules)a._rules[d]=this._rules[d];return a},reset:function(){this._rules={};return this},doRule:function(a){var d=0,e=m;a=this._rules[a];if(!a)return null;for(e in a)d++;return d?1==d?e:this._getStochasticRule(a):null},getGrammar:function(){var a=m,d;for(d in this._rules){var a=a+(d+"\n"),e=this._rules[d],b;for(b in e)a+="  '"+b+"' ["+e[b]+"]\n"}return RiTa.chomp(a)},print:function(){console&&console.log("------------------------------\n"+this.getGrammar()+
"------------------------------");return this},hasRule:function(a){return"undefined"!==typeof this._rules[a]},expandWith:function(a,d){var e,b=this._copy(),f=!1;for(e in b._rules)e===d&&(f={},f[a]=1,b._rules[e]=f,f=!0);f||q("Rule '"+d+"' not found in grammar");for(e=0;1E3>e;e++)if(f=b.expand(),-1<f.indexOf(a))return f;q("RiGrammar failed to complete after "+e+" tries\n")},expand:function(a){return this.expandFrom(E.START_RULE,a)},expandFrom:function(a,d){Object.keys(this._rules).length||q("(RiGrammar) No grammar rules found!");
this.hasRule(a)||q("Rule not found: "+a+"\nRules:\n"+JSON.stringify(this._rules));for(var e,b,f=0;1E3>++f;)if((e=this._expandRule(a))&&e.length)a=e;else{if(this.execDisabled)break;e=E.EXEC_PATT.exec(a);if(!e||!e.length)break;if(2<e.length){b=e[2];if(2!=this._countTicks(b))return y("Unable to parse recursive exec: "+b+"..."),null;b=this._handleExec(b,d);if(!b)break;a=e[1]+b;3<e.length&&(a+=e[3])}}1E3<=f&&!RiTa.SILENT&&T("[WARN] max number of iterations reached: 1000");return RiTa.unescapeHTML(a)},
_countTicks:function(a){for(var d=0,e=0;e<a.length;e++)"`"==a.charAt(e)&&d++;return d},openEditor:function(){y("Editor not yet implemented in JavaScript");return this},_handleExec:function(a,d){if(!a||!a.length)return null;var e,b=a.replace(E.STRIP_TICKS,"$1");try{return(e=eval(b))?e+m:null}catch(f){if((b=b.split("("))&&2==b.length){e=b[0];var k=b[1].replace(/\)/,m);if((b=d||h._graphics())&&b[e]&&n(b[e],D))return k=k.split(","),(e=b[e].apply(b,k))?e+m:null}y("RiGrammar failed parsing: "+a+"\n  -> "+
f.message);return null}},_expandRule:function(a){var d,e,b,f;for(f in this._rules)if(d=a.indexOf(f),0<=d)return e=a.substring(0,d)||m,b=this.doRule(f)||m,a=a.substring(d+f.length)||m,e+b+a;return null},_getStochasticRule:function(a){var d=Math.random(),e,b=0,f;for(f in a)b+=parseFloat(a[f]);for(f in a){var k=a[f]/b;if(d<k){e=f;break}else d-=k}return e}};var h=B();h._defaults={fill:{r:0,g:0,b:0,a:255},fontFamily:"Times New Roman",alignment:RiTa.LEFT,motionType:RiTa.LINEAR,_font:null,fontSize:14,paragraphLeading:0,
paragraphIndent:30,indentFirstParagraph:!1,boundingStroke:null,boundingStrokeWeight:1,showBounds:!1,leadingFactor:1.2,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1,metrics:{name:"Times New Roman",size:14,ascent:9.744,descent:3.024,widths:{0:7,1:7,2:7,3:7,4:7,5:7,6:7,7:7,8:7,9:7,"!":5,'"':6,"#":7,$:7,"%":12,"&":11,"'":3,"(":5,")":5,"*":7,"+":8,",":4,"-":5,".":4,"/":4,":":4,";":4,"<":8,"=":8,">":8,"?":6,"@":13,A:10,B:9,C:9,D:10,E:9,F:8,G:10,H:10,I:5,J:5,K:10,L:9,M:12,N:10,O:10,P:8,Q:10,R:9,
S:8,T:9,U:10,V:10,W:13,X:10,Y:10,Z:9,"[":5,"\\":4,"]":5,"^":7,_:7,"`":5,a:6,b:7,c:6,d:7,e:6,f:5,g:7,h:7,i:4,j:4,k:7,l:4,m:11,n:7,o:7,p:7,q:7,r:5,s:5,t:4,u:7,v:7,w:10,x:7,y:7,z:6,"{":7,"|":3,"}":7," ":4}}};h._animator={loopId:-1,actualFPS:0,targetFPS:60,isLooping:!1,frameCount:0,loopStarted:!1,framesSinceLastFPS:0,callbackDisabled:!1,timeSinceLastFPS:Date.now()};h._graphics=function(){return h.renderer?h.renderer._getGraphics():null};h.loop=function(a,d){var e=arguments,b=h.renderer,f=h._animator,
k=ga(p)?null:p.draw;if("Processing"!==b._type()&&!f.loopStarted){switch(e.length){case 1:e[0]&&(b=x.get(e[0]),b==D?k=e[0]:b==N&&(f.targetFPS=e[0]));break;case 2:e[0]&&(b=x.get(e[0]),b==D&&(k=e[0]),b=x.get(e[1]),b==N&&(f.targetFPS=e[1]))}f.timeSinceLastFPS=Date.now();f.framesSinceLastFPS=0;mps=1E3/f.targetFPS;k&&!f.callbackDisabled&&p&&(f.loopId=p.setInterval(function(){try{k();var a=(Date.now()-f.timeSinceLastFPS)/1E3,d=++f.framesSinceLastFPS/a;0.5<a&&(f.timeSinceLastFPS=Date.now(),f.framesSinceLastFPS=
0,f.actualFPS=d);f.frameCount++}catch(e){throw f.callbackDisabled||(y("Unable to invoke callback: "+k),f.callbackDisabled=!0),p.clearInterval(f.loopId),console.trace(this),e;}},mps),f.isLooping=!0,f.loopStarted=!0)}};h.randomColor=function(a,d,e){a=a||0;d=d||256;var b=[h.random(a,d),h.random(a,d),h.random(a,d)];e&&b.push(h.random(a,d));return b};h.random=function(){return RiTa.random.apply(this,arguments)};h.picked=function(a,d){for(var e=[],b=0;b<h.instances.length;b++){var f=h.instances[b];f.contains(a,
d)&&e.push(f)}return e};h.dispose=function(a){n(a,C)&&h._disposeArray(a);n(a,I)&&h._disposeOne(a)};h.disposeAll=function(){for(var a=0;a<h.instances.length;a++)h.instances[a]&&(delete h.instances[a]._rs,delete h.instances[a]);h.instances=[]};h.createWords=function(a,d,e,b,f,k,l){return h._createRiTexts(a,d,e,b,f,k,l,h.prototype.splitWords)};h.createLetters=function(a,d,e,b,f,k,l){return h._createRiTexts(a,d,e,b,f,k,l,h.prototype.splitLetters)};h.defaultFontSize=function(a){if(!arguments.length)return h.defaults.fontSize;
h.defaults.fontSize!=a&&(h.defaults.fontSize=a,h.defaults._font=null)};h.defaultFont=function(a,d){var e=arguments;1<e.length&&(Number(e[1])||(e=[e[0]]));1==e.length?(typeof e[0]==I&&(U()&&e[0].widths&&(h.renderer.font=e[0]),e[0].name&&(h.defaults.fontFamily=e[0].name),h.defaults._font=e[0]),typeof e[0]==u&&(h.defaults.fontFamily=e[0],h.defaults._font=h.renderer._createFont(e[0],h.defaults.fontSize))):1<e.length?typeof e[0]==u&&(h.defaults.fontFamily=e[0],h.defaults._font=h.renderer._createFont(e[0],
e[1])):0!=e.length||h.defaults._font||(h.defaults._font=U()?h.defaults.metrics:h.renderer._createFont(h.defaults.fontFamily,h.defaults.fontSize));return h.defaults._font};h._fontMetrics=function(a){var d,e,b={},f=h.defaultFont();if(!a||!a.length)for(a=[],d=33;126>d;d++)a.push(String.fromCharCode(d));n(a,u)&&(a=a.split(m));for(d=0;d<a.length;d++)e=a[d],b[e]=f.measureTextWidth(e);b[r]=f.measureTextWidth(r);return{name:f.name,size:f.size,ascent:f.ascent,descent:f.descent,widths:b}};h._createFont=function(a,
d){a||q("RiText._createFont requires fontName");d=d||h.defaults.fontSize;return h.renderer._createFont(a,d)};h.drawAll=function(a){if(1==arguments.length&&n(a,C))for(var d=0;d<a.length;d++)a[d]&&a[d].draw();else for(d=0;d<h.instances.length;d++)h.instances[d]&&h.instances[d].draw()};h.defaultFill=function(a,d,b,g){arguments.length&&(h.defaults.fill=$.apply(null,arguments));return h.defaults.fill};h._layoutArray=function(a,d,b,g,f,k,l){if(!n(arguments[0],C)){var m=arguments;a=m[1];d=m[2];b=m[3];g=
m[4];f=m[5];k=m[6];l=m[7]}m=[];if(!a||!a.length)return m;for(var p=0;p<a.length;p++)m.push(h(a[p],d+1,b).font(k));return h._constrainLines(m,b,f,l)};h._constrainLines=function(a,d,b,g){var f=a[0].textAscent(),k=a[0].textDescent();b=d+b;var l=d+f+1;for(d=0;d<a.length;d++){f=a[d];f.y=l;if(!h._withinBoundsY(l,g,b,k))break;l+=g}g=a.slice(d+1);h.dispose(g);return a.slice(0,d)};h.resetDefaults=function(){h.defaults=h._defaults};h.createLines=function(a,d,b,g,f,k,l){var p=arguments,O=x.get(p[0]),q=h.renderer;
O!=u&&O!=C&&(a=p[1],d=p[2],b=p[3],g=p[4],f=p[5],k=p[6],l=p[7]);if(!a||!a.length)return J;f=f||Number.MAX_VALUE;k=k||h.defaultFont();l=l||k.size*h.defaults.leadingFactor;if(n(a,C)){if(!g)return h._layoutArray(a,d,b,g,f,k,l);a=a.join(r)}!g&&q&&(g=q._width()-d);0>g&&(g=Number.MAX_VALUE);var s,O=d,t,v,ma=[],w=m,y=[],z=0;t=null;var A=!1,z=!1,wa=!0,D=d+g,B=b+f;q&&q.p||(t=h(r,0,0,k));a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/ ?(<[^>]+>) ?/g," $1 ");a=a.replace(/[\r\n]/g,r);h._addToStack(a,
y);if(!y.length)return h.EMPTY_ARRAY;q._textFont(k);s=q.p?q.p.textAscent():q._textAscent(t,!0);p=q.p?q.p.textDescent():q._textDescent(t,!0);v=b+s;for(h.defaults.indentFirstParagraph&&(O+=h.defaults.paragraphIndent);0<y.length;)if(s=y.pop(),s.length)if(/<[^>]+>/.test(s))s==h.NON_BREAKING_SPACE?w+=r:s==h.PARAGRAPH_BREAK?A=!0:s==h.LINE_BREAK&&(z=!0);else if(t=O+q._textWidth(k,w+s),!A&&!z&&t<D)w+=s+r;else if(h._withinBoundsY(v,l,B,p))z=wa?v:v+l,t=h._newRiTextLine(w,k,O,z),ma.push(t),v=A?t.y+h.defaults.paragraphLeading:
t.y,O=d,A&&(O+=h.defaults.paragraphIndent),w=s+r,wa=z=A=!1;else{y.push(s);break}h._withinBoundsY(v,l,B,p)?ma.push(h._newRiTextLine(w,k,d,l+v)):h._addToStack(w,y);return ma};h._withinBoundsY=function(a,d,b,g){return a+d<=b-g};h._addToStack=function(a,d){for(var b=a.split(r),g=b.length-1;0<=g;g--)d.push(b[g])};h._newRiTextLine=function(a,d,b,g){for(;null!=a&&0<a.length&&H(a,r);)a=a.substring(0,a.length-1);return h(a,b,g,d)};h._createRiTexts=function(a,d,b,g,f,k,l,m){a=h.createLines(a,d,b,g,f,k,l);if(!a||
1>a.length)return J;d=[];a[0].font();for(b=0;b<a.length;b++){g=m.call(a[b]);for(f=0;f<g.length;f++)d.push(g[f].font(k));h.dispose(a[b])}return d};h._wordOffsetFor=function(a,d,b){if(0>b||b>=d.length)throw Error("Bad wordIdx="+b+" for "+d);a.g._pushState();var g=a.x;if(0<b){d=d.slice(0,b);b="";for(var f=0;f<d.length;f++)b+=d[f]+" ";d=a.g._textWidth(a._font,b);switch(a._alignment){case RiTa.LEFT:g=a.x+d;break;case RiTa.RIGHT:g=a.x-d;break;case RiTa.CENTER:y("TODO: test center-align here"),g=a.x}}a.g._popState();
return g};h._handleLeading=function(a,d,b){if(d&&d.length){a=a||h._getDefaultFont();d[0].font(a);for(var g=0;g<d.length;g++)d[g].y=b,b+=a.leading;return d}};h._disposeOne=function(a){for(var d=h.instances;-1!==d.indexOf(a);)d.splice(d.indexOf(a),1);a&&(delete a._rs,delete a,a._rs={})};h._disposeArray=function(a){for(var d=0;d<a.length;d++)h._disposeOne(a[d])};h._getDefaultFont=function(){h.defaults._font=h.defaults._font||h.renderer._createFont(h.defaults.fontFamily,h.defaults.fontSize,h.defaults.leading);
return h.defaults._font};h.NON_BREAKING_SPACE="<sp/>";h.PARAGRAPH_BREAK="<p/>";h.LINE_BREAK="<br/>";h.instances=[];h.defaults=h._defaults;h.prototype={init:function(a,d,b,g){h.renderer||q("No graphics context, RiText unavailable");this._color={r:h.defaults.fill.r,g:h.defaults.fill.g,b:h.defaults.fill.b,a:h.defaults.fill.a};this._boundingStrokeWeight=h.defaults.boundingStrokeWeight;var f=h.defaults.boundingStroke;this._boundingStroke={r:f&&f.r||this._color.r,g:f&&f.g||this._color.g,b:f&&f.b||this._color.b,
a:this._color.a};this._boundingFill=h.defaults.boundingFill;this._showBounds=h.defaults.showBounds;this._motionType=h.defaults.motionType;this._alignment=h.defaults.alignment;this._rotateX=h.defaults.rotateX;this._rotateY=h.defaults.rotateY;this._rotateZ=h.defaults.rotateZ;this._scaleX=h.defaults.scaleX;this._scaleY=h.defaults.scaleY;this._scaleZ=1;this._behaviors=[];this.g=h.renderer;f=this._initArgs.apply(this,arguments);this.font(f[3]);this.text(f[0]);this.x=n(f[1],N)?f[1]:this._screenCenterX();
this.y=n(f[2],N)?f[2]:this.g._height()/2+this.textHeight()/2;this.z=0;h.instances.push(this);return this},_initArgs:function(){var a=arguments,d=x.get(a[0]);if(a.length&&(d===I||"global"===d||"window"===d)&&typeof a[0].analyze!=D)return a=Array.prototype.slice.call(a,1),this._initArgs.apply(this,a);d=[m,null,null,null];a.length&&(n(a[0],u)?d[0]=a[0]:n(a[0],I)&&typeof a[0].text==D?d[0]=a[0].text():n(a[0],N)?d[0]=String.fromCharCode(a[0]):console.error("Unexpected arg in RiText("+a[0]+" [type="+typeof a[0]+
"])"));1<a.length&&(d[1]=a[1]);2<a.length&&(d[2]=a[2]);3<a.length&&(d[3]=a[3]);return d},_screenCenterX:function(){var a=this.g._width()/2;this._alignment==RiTa.LEFT?a-=this.textWidth()/2:this._alignment==RiTa.RIGHT&&(a+=this.textWidth()/2);return a},get:function(a){return this._rs.get(a)},features:function(){return this._rs.features()},draw:function(){this._update()._render();this.textToCopy&&this.textToCopy.draw();return this},_update:function(){this._behaviors.length&&this._updateBehaviors();return this},
_render:function(){var a=this.g;a||q("no-renderer");if(this._rs&&this._rs.length){a._pushState();var d=a._getBoundingBox(this);a._translate(this.x,this.y);a._translate(d.width/2,d.height/-4);a._rotate(this._rotateZ);a._translate(d.width/-2,d.height/4);a._scale(this._scaleX,this._scaleY,this._scaleZ);a._fill(this._color.r,this._color.g,this._color.b,this._color.a);a._textFont(this._font);a._textAlign(this._alignment);a._text(this._rs._text,0,0);if(this._showBounds){this._boundingFill?a._fill(this._boundingFill.r,
this._boundingFill.g,this._boundingFill.b,this._color.a):a._noFill();a._stroke(this._boundingStroke.r,this._boundingStroke.g,this._boundingStroke.b,this._color.a);a._strokeWeight(this._boundingStrokeWeight);switch(this._alignment){case RiTa.RIGHT:a._translate(-d.width,0);break;case RiTa.CENTER:a._translate(-d.width/2,0)}a._rect(0,d.y,d.width,d.height)}a._popState()}return this},motionType:function(a){return arguments.length?(this._motionType=a,this):this._motionType},fadeIn:function(a,d,b){return this.colorTo([this._color.r,
this._color.g,this._color.b,255],a,d,null,RiTa.FADE_IN,!1)},fadeOut:function(a,d,b,g){return this.colorTo([this._color.r,this._color.g,this._color.b,0],a,d,null,RiTa.FADE_OUT,g||!1)},scaleTo:function(a,d,b,g){var f=this;d=d||1;return setTimeout(function(){(new ea(f)).to({_scaleX:a,_scaleY:a},1E3*d).easing(f._motionType).onUpdate(function(){f._scaleX=this._scaleX;f._scaleY=this._scaleY}).onComplete(function(){G(f,RiTa.SCALE_TO)._fire(g)}).start()},1E3*(b||0))},rotateTo:function(a,d,b,g){var f=this;
d=d||1;return setTimeout(function(){(new ea(f)).to({_rotateZ:a},1E3*d).easing(f._motionType).onUpdate(function(){f._rotateZ=this._rotateZ}).onComplete(function(){G(f,RiTa.ROTATE_TO)._fire(g)}).start()},1E3*(b||0))},textTo:function(a,d,b,g){var f=this._color,k=0,l=f.a;this.textToCopy&&(k=this.textToCopy.alpha(),h.dispose(this.textToCopy));this.textToCopy=this.copy();this.textToCopy.colorTo([this._color.r,this._color.g,this._color.b,0],d/2,b,null,RiTa.INTERNAL,!0);h.dispose(this.textToCopy.textToCopy);
this.text(a).alpha(k);return this.colorTo([f.r,f.g,f.b,l],0.95*d,b,g,RiTa.TEXT_TO,!1)},colorTo:function(a,d,b,g,f,k){n(a,C)||q("arg#1 to colorTo() must be an array");b=b||0;d=d||1;a=$.apply(this,a);f=f||RiTa.COLOR_TO;var l=this;return setTimeout(function(){(new ea(l,l._color)).to({r:a.r,g:a.g,b:a.b,a:a.a},1E3*d).easing(l._motionType).onUpdate(function(){l._color.r=this.r;l._color.g=this.g;l._color.b=this.b;l._color.a=this.a;l._boundingStroke.a=this.a}).onComplete(function(){f!=RiTa.INTERNAL&&G(l,
f)._fire(g);k&&h.dispose(l)}).start()},1E3*b)},moveTo:function(a,d,b,g,f){var k=this;g=g||0;b=b||1;return setTimeout(function(){(new ea(k)).to({x:a,y:d},1E3*b).easing(k._motionType).onUpdate(function(){k.x=this.x;k.y=this.y}).delay(g).onComplete(function(){G(k,RiTa.MOVE_TO)._fire(f)}).start()},1E3*g)},analyze:function(){this._rs.analyze();return this},text:function(a){if(1==arguments.length){var d=x.get(a);d==N?a=String.fromCharCode(a):d==I&&typeof a.text==D&&(a=a.text());this._rs=this._rs?this._rs.text(a):
new A(a);return this}return this._rs._text},match:function(a){return this._rs.match(a)},charAt:function(a){return this._rs.charAt(a)},concat:function(a){return this._rs._text.concat(a.text())},containsWord:function(a){return-1<this._rs.indexOf(a)},endsWith:function(a){return H(this._rs._text,a)},equals:function(a){return a._rs._text===this._rs._text},equalsIgnoreCase:function(a){return typeof a===u?a.toLowerCase()===this._rs._text.toLowerCase():a.text().toLowerCase()===this._rs._text.toLowerCase()},
indexOf:function(a,d){return this._rs._text.indexOf(a,d)},lastIndexOf:function(a,d){return this._rs._text.lastIndexOf(a,d)},length:function(){return this._rs._text.length},pos:function(){for(var a=RiTa.tokenize(this._rs._text),d=z.tag(a),b=0,g=d.length;b<g;b++)w(d[b])||q("RiText: can't parse pos for:"+a[b]);return d},posAt:function(a){var d=this._rs.pos();return!d||!d.length||0>a||a>=d.length?m:d[a]},insertChar:function(a,d){this._rs.insertChar(a,d);return this},removeChar:function(a){this._rs.removeChar(a);
return this},replaceChar:function(a,d){this._rs.replaceChar(a,d);return this},replaceFirst:function(a,d){d&&(this._rs._text=this._rs._text.replace(a,d));return this},replaceLast:function(a,d){if(d&&0<=this._rs._text.lastIndexOf(a)){var b=this._rs._text.lastIndexOf(a),g=this._rs._text.substring(0,b),b=this._rs._text.substring(b+a.length);this._rs._text=g+d+b;return this}},replaceAll:function(a,d){a&&(d||""===d)&&(this._rs._text=qa(this._rs._text,a,d));return this},replaceWord:function(a,d){this._rs.replaceWord.apply(this,
arguments);return this},removeWord:function(a){this._rs.removeWord.apply(this,arguments);return this},insertWord:function(a,d){this._rs.insertWord.apply(this,arguments);return this},slice:function(a,d){var b=this._rs._text.slice(a,d)||m;return this._rs.text(b)},startsWith:function(a){return 0==this._rs.indexOf(a)},substring:function(a,d){return this._rs.text(this._rs._text.substring(a,d))},substr:function(a,d){var b=this._rs._text.substr(a,d);return this._rs.text(b)},toLowerCase:function(){return this._rs.text(this._rs._text.toLowerCase())},
toUpperCase:function(){return this._rs.text(this._rs._text.toUpperCase())},trim:function(){return this._rs.text(L(this._rs._text))},wordAt:function(a){var d=RiTa.tokenize(this._rs._text);return 0>a||a>=d.length?m:d[a]},wordCount:function(){return this._rs._text.length?this.words().length:0},words:function(){return RiTa.tokenize(this._rs._text)},distanceTo:function(a,d){var b,g,f=this.center();1==a.length?(b=f.x,g=f.y):(b=a,g=d);return RiTa.distance(f.x,f.y,b,g)},center:function(){var a=this.boundingBox();
return{x:a.x+a.width/2,y:a.y-a.height/2}},splitWords:function(a){a=a||r;typeof a==u&&(a=new RegExp(a));var d=[];a=this._rs._text.split(a);for(var b=0;b<a.length;b++)if(!(1>a[b].length)){var g=this.copy();g.text(a[b]);var f=h._wordOffsetFor(this,a,b);g.position(f,this.y);d.push(g)}return d},splitLetters:function(){for(var a=[],d=[],b=this.text(),g=b.length,f=0;f<g;f++)d[f]=b.charAt(f);for(b=0;b<d.length;b++)d[b]!=r&&(g=this.copy(),g.text(d[b]),f=this.charOffset(b),g.position(f,this.y),a.push(g));return a},
contains:function(a,d){var b=this.boundingBox(!1);b.x+=this.x;b.y+=this.y;return!(a<b.x||a>b.x+b.width||d<b.y||d>b.y+b.height)},copy:function(){var a=new h(this.text(),this.x,this.y,this._font);a.fill(this._color.r,this._color.g,this._color.b,this._color.a);for(var d in this)typeof this[d]!=D&&typeof this[d]!=I&&(a[d]=this[d]);return a},align:function(a){return arguments.length?(this._alignment=a,this):this._alignment},font:function(a,d){var b=arguments;return 1==b.length?(this._font=a||h._getDefaultFont(),
this._font.size=this._font.size||h.defaults.fontSize,this._font.leading||(this._font.leading=0),this):2==b.length?this.font(h.renderer._createFont(b[0],b[1])):this._font},showBounds:function(a){return 1==arguments.length?(this._showBounds=a,this):this._showBounds},fill:function(a,d,b,g){if(0==arguments.length)return this._color;this._color=$.apply(this,arguments);return this},isVisible:function(){arguments.length&&q("isVisible() takes no arguments");return 0<this._color.a},alpha:function(a){return 1==
arguments.length?(this._color.a=a,this):this._color.a},position:function(a,d){if(!arguments.length)return{x:this.x,y:this.y};this.x=a;this.y=d;return this},rotate:function(a){if(!arguments.length)return this._rotateZ;this._rotateZ=a;return this},scale:function(a,d){if(!arguments.length)return{x:this._scaleX,y:this._scaleY};1==arguments.length&&(d=a);this._scaleX=a;this._scaleY=d;return this},charOffset:function(a){var d=this.x;if(0<a){var d=this.text(),b=d.length;a>b&&(a=b);a=d.substring(0,a);d=this.x+
this.g._textWidth(this._font,a)}return d},wordOffset:function(a){var d=this.text().split(" ");return h._wordOffsetFor(this,d,a)},boundingBox:function(a){var d=this.g;d._pushState();d._rotate(this._rotateZ);d._translate(this.x,this.y);d._scale(this._scaleX,this._scaleY,this._scaleZ);d._textFont(this._font);d._textAlign(this._alignment);var b=this.g._getBoundingBox(this);a&&(b.x+=this.x,b.y+=this.y,b.width*=this._scaleX,b.height*=this._scaleY);d._popState();return b},textWidth:function(){return this.g._textWidth(this._font,
this._rs._text)},textHeight:function(){return this.g._textHeight(this)},fontSize:function(a){if(!arguments.length)return this._font?this._font.size:-1;if(this._font&&this._font.size==a)return this;var d=h.defaults.fontFamily;this._font&&this._font.name&&(d=this._font.name);this.font(d,a);return this},textAscent:function(){return this.g._textAscent(this)},textDescent:function(){return this.g._textDescent(this)},_addBehavior:function(a){this._behaviors.push(a)},_getBehavior:function(a){for(var d=0;d<
this._behaviors.length;d++)if(this._behaviors[d].id==a)return this._behaviors[d].id;return null},stopBehavior:function(a){if(a=this._getBehavior(a))a=this._behaviors.indexOf(a),-1!==a&&this._behaviors.splice(a,1);return this},stopBehaviors:function(){this._behaviors=[];return this},_updateBehaviors:function(a){var d=0,b=this._behaviors.length;for(a=a||Date.now();d<b;)this._behaviors[d].update(a)?d++:(this._behaviors.splice(d,1),b--)},toString:function(){var a=this._rs&&this._rs._text||"undefined";
return"["+Math.round(this.x)+","+Math.round(this.y)+",'"+a+"']"}};var v=B();v.TOTAL="TOTAL";v.INDEX="INDEX";v.STATE="STATE";v.PHONE="PHONE";v.tokenizeOnLoad=!0;v.tokenizeOnLookup=!1;v.WINDOW_SIZE=4;v.prototype={init:function(){this.letterIndex={};this.fval_buff=[];this.stateMachine=null;this.numStates=0;v.RULES||(v.RULES=_RiTa_LTS);if(!v.RULES.length)throw Error("[RiTa] No LTS-rules found!");for(var a=0;a<v.RULES.length;a++)this.parseAndAdd(v.RULES[a])},_createState:function(a,d){if(a===v.STATE){var b=
parseInt(d.nextToken()),g=d.nextToken(),f=parseInt(d.nextToken()),k=parseInt(d.nextToken());return new fa(b,g.charAt(0),f,k)}if(a===v.PHONE)return new Y(d.nextToken());throw Error("Unexpected type: "+a);},parseAndAdd:function(a){var d=new na(a,r),b=d.nextToken();if(b==v.STATE||b==v.PHONE)this.stateMachine[this.numStates]=v.tokenizeOnLoad?this._createState(b,d):a,this.numStates++;else if(b==v.INDEX){a=parseInt(d.nextToken());if(a!=this.numStates)throw Error("Bad INDEX in file.");d=d.nextToken();this.letterIndex[d]=
a}else b==v.TOTAL&&(this.stateMachine=[],this.stateMachineSize=parseInt(d.nextToken()))},getPhones:function(a,d){var b,g=[];d=d||"-";if(n(a,u)){if(!a.length)return m;a=RiTa.tokenize(a)}for(var f=0;f<a.length;f++)b=this._computePhones(a[f]),g[f]=b?b.join(d):m;return g.join(d)},_computePhones:function(a){var d,b=[],g,f;if(!a||!a.length||RiTa.isPunctuation(a))return null;a=a.toLowerCase();if(V(a)){a=1<a.length?a.split(m):[a];for(g=0;g<a.length;g++){d=parseInt(a[g]);if(0>d||9<d)throw Error("Attempt to pass multi-digit number to LTS: '"+
a+"'");b.push(A.phones.digits[d])}return b}d=("000#"+a.trim()+"#000").split(m);for(var k=0;k<a.length;k++){for(g=0;g<v.WINDOW_SIZE;g++)this.fval_buff[g]=d[k+g],this.fval_buff[g+v.WINDOW_SIZE]=d[g+k+1+v.WINDOW_SIZE];f=a.charAt(k);g=this.letterIndex[f];if(null==g)return y("Unable to generate LTS for '"+a+"'\n       No LTS index for character: '"+f+"', isDigit="+V(f)+", isPunct="+RiTa.isPunctuation(f)),null;g=parseInt(g);for(g=this.getState(g);!(g instanceof Y);)g=g.getNextState(this.fval_buff),g=this.getState(g);
g.append(b)}return b},getState:function(a){if(n(a,N)){var d=null;n(this.stateMachine[a],u)?(d=this.getState(this.stateMachine[a]),v.tokenizeOnLookup&&(this.stateMachine[a]=d)):d=this.stateMachine[a];return d}a=new na(a," ");return this.getState(a.nextToken(),a)}};var fa=B();fa.TYPE=1;fa.prototype={init:function(a,d,b,g){this.c=d;this.index=a;this.qtrue=b;this.qfalse=g},type:function(){return"DecisionState"},getNextState:function(a){return a[this.index]==this.c?this.qtrue:this.qfalse},toString:function(){return this.STATE+
" "+this.index+" "+this.c+" "+this.qtrue+" "+this.qfalse},compare:function(a){return a instanceof fa?index==a.index&&c==a.c&&qtrue==a.qtrue&&qfalse==a.qfalse:!1}};var Y=B();Y.TYPE=2;Y.prototype={init:function(a){this.phoneList=[];if("epsilon"===a)this.phoneList=null;else if(n(a,C))this.phoneList=a;else{var d=a.indexOf("-");-1!=d?(this.phoneList[0]=a.substring(0,d),this.phoneList[1]=a.substring(d+1)):this.phoneList[0]=a}},type:function(){return"FinalState"},append:function(a){if(this.phoneList)for(var d=
0;d<this.phoneList.length;d++)a.push(this.phoneList[d])},toString:function(){return this.phoneList?1==this.phoneList.length?v.PHONE+" "+this.phoneList[0]:v.PHONE+" "+this.phoneList[0]+"-"+this.phoneList[1]:v.PHONE+" epsilon"},compare:function(a){if(a instanceof Y){if(phoneList){for(var d=0;d<phoneList.length;d++)if(!phoneList[d].equals(a.phoneList[d]))return!1;return!0}return null==a.phoneList}return!1}};var na=B();na.prototype={init:function(a,d){this.idx=0;this.text=a;this.delim=d||" ";this.tokens=
a.split(d)},nextToken:function(){return this.idx<this.tokens.length?this.tokens[this.idx++]:null}};var xa=B();xa.prototype={init:function(a){this.font=a},_size:function(){return this.font.size},_getGraphics:function(){y("NodeRenderer._getGraphics() returning null graphics context!");return null},_pushState:function(){return this},_popState:function(){return this},_textAlign:function(a){return this},_scale:function(a,d){},_translate:function(a,d){},_rotate:function(a){},_text:function(a,d,b){},_fill:function(a,
d,b,g){},_stroke:function(a,d,b,g){},_noFill:function(){},_strokeWeight:function(){},_background:function(a,d,b,g){},_createFont:function(a,d){return this.font},_rect:function(a,d,b,g){},_textFont:function(a){this.font=a},_textWidth:function(a,d){var b=0,g=this.font.widths.i;if(d&&d.length)for(var f=0;f<d.length;f++){var k=d.charAt(f);if("\n"!=k&&"\r"!=k){var h=this.font.widths[k];h||(y('No glyph for "'+k+'"in word: '+d),h=g);b+=h}}return b},_textHeight:function(a){return this._textAscent()+this._textDescent()},
_textAscent:function(a,d){return this.font.ascent},_textDescent:function(a){return this.font.descent},_getBoundingBox:function(a){return{x:a.x,y:a.y-this._textAscent()-1,width:this._textWidth(),height:this._textHeight()+1}},_type:function(){return"Node"},toString:function(){return"RiText_"+this._type()}};var R={},ra=function(a,d,b){this.timerImpl=U()?require("timers"):p;this.set=function(a,d,b){this.init=!0;"function"==typeof a&&(this.action=a);isNaN(d)||(this.intervalTime=d);b&&!this.isActive&&(this.isActive=
!0,this.setTimer());return this};this.once=function(a){var d=this;isNaN(a)&&(a=0);this.timerImpl.setTimeout(function(){d.action()},a);return this};this.play=function(a){this.isActive||(a?this.setTimer():this.setTimer(this.remaining),this.isActive=!0);return this};this.pause=function(){this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer());return this};this.stop=function(){this.isActive=!1;this.remaining=this.intervalTime;this.clearTimer();return this};this.toggle=function(a){this.isActive?
this.pause():a?this.play(!0):this.play();return this};this.reset=function(){this.isActive=!1;this.play(!0);return this};this.id=function(){return this.timeoutObject};this.clearTimer=function(){this.timerImpl.clearTimeout(this.timeoutObject)};this.setTimer=function(a){var d=this;"function"==typeof this.action&&(isNaN(a)&&(a=this.intervalTime),this.remaining=a,this.last=new Date,this.clearTimer(),this.timeoutObject=this.timerImpl.setTimeout(function(){d.go()},a))};this.go=function(){this.isActive&&
(this.action(),this.setTimer())};return this.init?new ra(a,d,b):this.set(a,d,b)},ja=B();ja.prototype={init:function(a,d){this.count=0;this.children={};this.parent=a;this.token=d},pathFromRoot:function(a){for(var d=this;!d.isRoot();)a.push(d.token),d=d.parent},selectChild:function(a,d){var b=d||!0;return this.children?this._select(this.childNodes(a),b):null},_select:function(a,d){if(!a)throw TypeError("bad arg to '_select()'");return d?this._probabalisticSelect(a):a[Math.floor(Math.random()*a.length)]},
_probabalisticSelect:function(a){if(!a)throw TypeError("bad arg to '_probabalisticSelect()'");if(!a.length)return null;if(1==a.length)return a[0];for(var d=0,b=Math.random(),g=0;g<a.length;g++)if(d+=a[g].probability(),b<d)return a[g];q("Invalid State in RiTa.probabalisticSelect()")},addChild:function(a,d){d=d||1;var b=this._key(a),g=this.children[b];g?g.count++:(g=new ja(this,a),g.count=d,this.children[b]=g);return g},asTree:function(a){var d=this.token+" ";this.isRoot()||(d+="("+this.count+")->");
d+="{";return this.isLeaf()?d+"}":this.childrenToString(this,d,1,a)},isRoot:function(){return!this.parent},isLeaf:function(){return 0==this.childCount()},probability:function(){return this.count/this.siblingCount()},childNodes:function(a){if(!this.children)return J;a=n(a,u)?new RegExp(a):a;var d=[],b;for(b in this.children){var g=this.children[b];(!a||g&&g.token&&-1<g.token.search(a))&&d.push(g)}return d},siblingCount:function(){this.isRoot()&&q("Illegal siblingCount on ROOT!");this.parent||q("Null parent for: "+
this.token);return this.parent.childCount()},uniqueCount:function(){var a=0,d;for(d in this.children)a++;return a},childCount:function(){if(!this.children)return 0;var a=0,d;for(d in this.children)d&&this.children[d]&&(a+=this.children[d].count);return a},lookup:function(a){if(!a)return null;a=typeof a!=u&&a.token?a.token:a;var d=this._key(a);return a?this.children[d]:null},_key:function(a){return a},childrenToString:function(a,d,b,g){var f=[],k=null,h="\n";g=g||!1;for(var m in a.children)f.push(a.children[m]);
if(!f.length)return d;g&&f.sort();for(k=0;k<b;k++)h+="  ";for(m=0;m<f.length;m++){k=f[m];if(!k)break;var n=k.token;n&&("\n"==n&&(n="\\n"),"\r"==n&&(n="\\r"),"\t"==n&&(n="\\t"),"\r\n"==n&&(n="\\r\\n"));d+=h+"'"+n+"'";k.count||q("ILLEGAL FREQ: "+k.count+" -> "+a.token+","+k.token);k.isRoot()||(d+=" ["+k.count+",p="+k.probability().toFixed(3)+"]->{");d=k.children?this.childrenToString(k,d,b+1,g):d+"}"}h="\n";for(k=0;k<b-1;k++)h+="  ";return d+h+"}"},toString:function(){return"[ "+this.token+" ("+this.count+
"/"+this.probability().toFixed(3)+"%)]"}};var ba=B();ba.prototype={init:function(){this.perfect=this.progressive=this.passive=this.interrogative=!1;this.tense=RiTa.PRESENT_TENSE;this.person=RiTa.FIRST_PERSON;this.number=RiTa.SINGULAR;this.form=RiTa.NORMAL;this.head=m},conjugate:function(a,d){var b=m,b=null,g=[],f=a;if(!a||!a.length)return m;if(!d)return a;d.number&&(this.number=d.number);d.person&&(this.person=d.person);d.tense&&(this.tense=d.tense);d.form&&(this.form=d.form);d.passive&&(this.passive=
d.passive);d.progressive&&(this.progressive=d.progressive);d.interrogative&&(this.interrogative=d.interrogative);d.perfect&&(this.perfect=d.perfect);this.form==RiTa.INFINITIVE&&(b="to");this.tense==RiTa.FUTURE_TENSE&&(b="will");this.passive&&(g.push(this.getPastParticiple(f)),f="be");this.progressive&&(g.push(this.getPresentParticiple(f)),f="be");this.perfect&&(g.push(this.getPastParticiple(f)),f="have");b&&(g.push(f),f=null);f&&(this.form===RiTa.GERUND?f=this.getPresentParticiple(f):this.interrogative&&
"be"!=a&&1>g.length||(f=this.getVerbForm(f,this.tense,this.person,this.number)),g.push(f));b&&g.push(b);b=m;for(f=0;f<g.length;f++)b=g[f]+" "+b;H(b,"peted")&&q("Unexpected output: "+this.toString());return L(b)},checkRules:function(a,b){var e=a.rules,g=a.defaultRule||null;e||q("no rule: "+a.name+" of "+b);if(F(ha,b))return b;for(var f=0;f<e.length;f++)if(e[f].applies(b))return e[f].fire(b);a.doubling&&F(Ea,b)&&(b=this.doubleFinalConsonant(b));return g.fire(b)},doubleFinalConsonant:function(a){var b=
a.charAt(a.length-1);return a+b},getPast:function(a,b,e){if("be"==a.toLowerCase())switch(e){case RiTa.SINGULAR:switch(b){case RiTa.THIRD_PERSON:return"was";case RiTa.SECOND_PERSON:return"were"}break;case RiTa.PLURAL:return"were"}return this.checkRules(Fa,a)},getPresent:function(a,b,e){b=b||this.person;e=e||this.number;if(b==RiTa.THIRD_PERSON&&e==RiTa.SINGULAR)return this.checkRules(Ga,a);if("be"==a)if(e==RiTa.SINGULAR)switch(b){case RiTa.FIRST_PERSON:return"am";case RiTa.SECOND_PERSON:return"are";
case RiTa.THIRD_PERSON:return"is"}else return"are";return a},getPresentParticiple:function(a){return w(a)?this.checkRules(Ha,a):m},getPastParticiple:function(a){return w(a)?this.checkRules(Ia,a):m},getVerbForm:function(a,b,e,g){switch(b){case RiTa.PRESENT_TENSE:return this.getPresent(a,e,g);case RiTa.PAST_TENSE:return this.getPast(a,e,g);default:return a}},getPerson:function(){return CONJUGATION_NAMES[this.person]},getNumber:function(){return CONJUGATION_NAMES[this.number]},getTense:function(){return CONJUGATION_NAMES[this.tense]},
getVerb:function(){return this.head},isPassive:function(){return this.passive},isPerfect:function(){return this.perfect},isProgressive:function(){return this.progressive},setPerson:function(a){this.person=a},setNumber:function(a){this.number=a},setTense:function(a){this.tense=a},setVerb:function(a){a=this.head=a.toLowerCase();if("am"===a||"are"===a||"is"===a||"was"===a||"were"===a)this.head="be"},setPassive:function(a){this.passive=a},setPerfect:function(a){this.perfect=a},setProgressive:function(a){this.progressive=
a},toString:function(){return"  ---------------------\n  Passive = "+this.isPassive()+"\n  Perfect = "+this.isPerfect()+"\n  Progressive = "+this.isProgressive()+"\n  ---------------------\n  Number = "+this.getNumber()+"\n  Person = "+this.getPerson()+"\n  Tense = "+this.getTense()+"\n  ---------------------\n"}};var z={UNKNOWN:["???","unknown"],N:["n","NOUN_KEY"],V:["v","VERB_KEY"],R:["r","ADVERB_KEY"],A:["a","ADJECTIVE_KEY"],CC:["cc","Coordinating conjunction"],CD:["cd","Cardinal number"],DT:["dt",
"Determiner"],EX:["ex","Existential there"],FW:["fw","Foreign word"],IN:["in","Preposition or subordinating conjunction"],JJ:["jj","Adjective"],JJR:["jjr","Adjective, comparative"],JJS:["jjs","Adjective, superlative"],LS:["ls","List item marker"],MD:["md","Modal"],NN:["nn","Noun, singular or mass"],NNS:["nns","Noun, plural"],NNP:["nnp","Proper noun, singular"],NNPS:["nnps","Proper noun, plural"],PDT:["pdt","Predeterminer"],POS:["pos","Possessive ending"],PRP:["prp","Personal pronoun"],PRP$:["prp$",
"Possessive pronoun (prolog version PRP-S)"],RB:["rb","Adverb"],RBR:["rbr","Adverb, comparative"],RBS:["rbs","Adverb, superlative"],RP:["rp","Particle"],SYM:["sym","Symbol"],TO:["to","to"],UH:["uh","Interjection"],VB:["vb","Verb, base form"],VBD:["vbd","Verb, past tense"],VBG:["vbg","Verb, gerund or present participle"],VBN:["vbn","Verb, past participle"],VBP:["vbp","Verb, non-3rd person singular present"],VBZ:["vbz","Verb, 3rd person singular present"],WDT:["wdt","Wh-determiner"],WP:["wp","Wh-pronoun"],
WP$:["wp$","Possessive wh-pronoun (prolog version WP-S)"],WRB:["wrb","Wh-adverb"],TAGS:"cc cd dt ex fw in jj jjr jjs ls md nn nns nnp nnps pdt pos prp prp$ rb rbr rbs rp sym to uh vb vbd vbg vbn vbp vbz wdt wp wp$ wrb unknown".split(" "),NOUNS:["nn","nns","nnp","nnps"],VERBS:"vb vbd vbg vbn vbp vbz".split(" "),ADJ:["jj","jjr","jjs"],ADV:["rb","rbr","rbs","rp"],isVerb:function(a){return F(this.VERBS,a)},isNoun:function(a){return F(this.NOUNS,a)},isAdverb:function(a){return F(this.ADV,a)},isAdj:function(a){return F(this.ADJ,
a)},isTag:function(a){return F(this.TAGS,a)},hasTag:function(a,b){Q(a,C);return-1<a.join().indexOf(b)},tag:function(a){var b=[],e=[],g=t();a=n(a,C)?a:[a];for(var f=0,h=a.length;f<h;f++)if(w(a[f])){var l=g._getPosArr(a[f]);l&&l.length?(b.push(l[0]),e[f]=l):(1==a[f].length?b.push(V(a[f].charAt(0))?"cd":a[f]):b.push("nn"),e[f]=[])}else e[f]=[];return this._applyContext(a,b,e)},_applyContext:function(a,b,e){for(var g=0,f=a.length;g<f;g++)0<g&&"dt"==b[g-1]&&(P(b[g],"vb")?b[g]="nn":P(b[g],"rb")&&(b[g]=
2<b[g].length?"jj"+b[g].charAt(2):"jj")),P(b[g],"n")&&null==e[g]&&V(a[g])&&(b[g]="cd"),P(b[g],"n")&&H(a[g],"ed")&&(b[g]="vbn"),H(a[g],"ly")&&(b[g]="rb"),P(b[g],"nn")&&H(a[g],"al")&&"mammal"!=a[g]&&(b[g]="jj"),0<g&&P(b[g],"nn")&&W(a[g-1],"would")&&(b[g]="vb"),"nn"==b[g]&&a[g].match(/^.*[^s]s$/)&&(oa.applies(a[g])||(b[g]="nns")),P(b[g],"nn")&&H(a[g],"ing")&&this.hasTag(e[g],"vb")&&(b[g]="vbg"),0<g&&"nns"==b[g]&&this.hasTag(e[g],"vbz")&&b[g-1].match(/^(nn|prp|nnp)$/)&&(b[g]="vbz"),P(b[g],"nn")&&a[g].charAt(0)==
a[g].charAt(0).toUpperCase()&&(b[g]=H(b[g],"s")?"nnps":"nnp");return b}},ca={};ca.stem_Porter=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},b={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(e){var g,f,h,l,n;if(3>e.length)return e;h=e.substr(0,
1);"y"==h&&(e=h+e.substr(1));l=/^(.+?)(ss|i)es$/;f=/^(.+?)([^s])s$/;l.test(e)?e=e.replace(l,"$1$2"):f.test(e)&&(e=e.replace(f,"$1$2"));l=/^(.+?)eed$/;f=/^(.+?)(ed|ing)$/;l.test(e)?(f=l.exec(e),l=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,l.test(f[1])&&(l=/.$/,e=e.replace(l,m))):f.test(e)&&(f=f.exec(e),g=f[1],f=/^([^aeiou][^aeiouy]*)?[aeiouy]/,f.test(g)&&(e=g,f=/(at|bl|iz)$/,n=/([^aeiouylsz])\1$/,g=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,f.test(e)?e+="e":n.test(e)?(l=/.$/,e=e.replace(l,
m)):g.test(e)&&(e+="e")));l=/^(.+?)y$/;l.test(e)&&(f=l.exec(e),g=f[1],l=/^([^aeiou][^aeiouy]*)?[aeiouy]/,l.test(g)&&(e=g+"i"));l=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;l.test(e)&&(f=l.exec(e),g=f[1],f=f[2],l=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,l.test(g)&&(e=g+a[f]));l=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;l.test(e)&&(f=l.exec(e),g=f[1],f=f[2],l=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
l.test(g)&&(e=g+b[f]));l=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;f=/^(.+?)(s|t)(ion)$/;l.test(e)?(f=l.exec(e),g=f[1],l=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,l.test(g)&&(e=g)):f.test(e)&&(f=f.exec(e),g=f[1]+f[2],f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,f.test(g)&&(e=g));l=/^(.+?)e$/;l.test(e)&&(f=l.exec(e),g=f[1],l=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,n=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,l.test(g)||f.test(g)&&!n.test(g))&&(e=g);l=/ll$/;f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;l.test(e)&&f.test(e)&&(l=/.$/,e=e.replace(l,m));"y"==h&&(e=h.toLowerCase()+e.substr(1));return e}}();ca.stem_Lancaster=function(){function a(e,g){var f=e.substr(-1);if(f=b[f])for(var h=0;h<f.length;h++)if((g||!f[h].intact)&&e.substr(0-
f[h].pattern.length)==f[h].pattern){var l=e.substr(0,e.length-f[h].size);f[h].appendage&&(l+=f[h].appendage);var m=l;if(m.match(/^[aeiou]/)?1<m.length:2<m.length&&m.match(/[aeiouy]/))return f[h].continuation?a(l,!1):l}return e}var b={a:[{continuation:!1,intact:!0,pattern:"ia",size:"2"},{continuation:!1,intact:!0,pattern:"a",size:"1"}],b:[{continuation:!1,intact:!1,pattern:"bb",size:"1"}],c:[{appendage:"s",continuation:!1,intact:!1,pattern:"ytic",size:"3"},{continuation:!0,intact:!1,pattern:"ic",size:"2"},
{appendage:"t",continuation:!0,intact:!1,pattern:"nc",size:"1"}],d:[{continuation:!1,intact:!1,pattern:"dd",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ied",size:"3"},{appendage:"s",continuation:!1,intact:!1,pattern:"ceed",size:"2"},{continuation:!1,intact:!1,pattern:"eed",size:"1"},{continuation:!0,intact:!1,pattern:"ed",size:"2"},{continuation:!0,intact:!1,pattern:"hood",size:"4"}],e:[{continuation:!0,intact:!1,pattern:"e",size:"1"}],f:[{appendage:"v",continuation:!1,intact:!1,pattern:"lief",
size:"1"},{continuation:!0,intact:!1,pattern:"if",size:"2"}],g:[{continuation:!0,intact:!1,pattern:"ing",size:"3"},{appendage:"y",continuation:!1,intact:!1,pattern:"iag",size:"3"},{continuation:!0,intact:!1,pattern:"ag",size:"2"},{continuation:!1,intact:!1,pattern:"gg",size:"1"}],h:[{continuation:!1,intact:!0,pattern:"th",size:"2"},{appendage:"c",continuation:!1,intact:!1,pattern:"guish",size:"5"},{continuation:!0,intact:!1,pattern:"ish",size:"3"}],i:[{continuation:!1,intact:!0,pattern:"i",size:"1"},
{appendage:"y",continuation:!0,intact:!1,pattern:"i",size:"1"}],j:[{appendage:"d",continuation:!1,intact:!1,pattern:"ij",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"fuj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"uj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"oj",size:"1"},{appendage:"r",continuation:!1,intact:!1,pattern:"hej",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"verj",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"misj",
size:"2"},{appendage:"d",continuation:!1,intact:!1,pattern:"nj",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"j",size:"1"}],l:[{continuation:!1,intact:!1,pattern:"ifiabl",size:"6"},{appendage:"y",continuation:!1,intact:!1,pattern:"iabl",size:"4"},{continuation:!0,intact:!1,pattern:"abl",size:"3"},{continuation:!1,intact:!1,pattern:"ibl",size:"3"},{appendage:"l",continuation:!0,intact:!1,pattern:"bil",size:"2"},{continuation:!1,intact:!1,pattern:"cl",size:"1"},{appendage:"y",continuation:!1,
intact:!1,pattern:"iful",size:"4"},{continuation:!0,intact:!1,pattern:"ful",size:"3"},{continuation:!1,intact:!1,pattern:"ul",size:"2"},{continuation:!0,intact:!1,pattern:"ial",size:"3"},{continuation:!0,intact:!1,pattern:"ual",size:"3"},{continuation:!0,intact:!1,pattern:"al",size:"2"},{continuation:!1,intact:!1,pattern:"ll",size:"1"}],m:[{continuation:!1,intact:!1,pattern:"ium",size:"3"},{continuation:!1,intact:!0,pattern:"um",size:"2"},{continuation:!0,intact:!1,pattern:"ism",size:"3"},{continuation:!1,
intact:!1,pattern:"mm",size:"1"}],n:[{appendage:"j",continuation:!0,intact:!1,pattern:"sion",size:"4"},{appendage:"c",continuation:!1,intact:!1,pattern:"xion",size:"4"},{continuation:!0,intact:!1,pattern:"ion",size:"3"},{continuation:!0,intact:!1,pattern:"ian",size:"3"},{continuation:!0,intact:!1,pattern:"an",size:"2"},{continuation:!1,intact:!1,pattern:"een",size:"0"},{continuation:!0,intact:!1,pattern:"en",size:"2"},{continuation:!1,intact:!1,pattern:"nn",size:"1"}],p:[{continuation:!0,intact:!1,
pattern:"ship",size:"4"},{continuation:!1,intact:!1,pattern:"pp",size:"1"}],r:[{continuation:!0,intact:!1,pattern:"er",size:"2"},{continuation:!1,intact:!1,pattern:"ear",size:"0"},{continuation:!1,intact:!1,pattern:"ar",size:"2"},{continuation:!0,intact:!1,pattern:"or",size:"2"},{continuation:!0,intact:!1,pattern:"ur",size:"2"},{continuation:!1,intact:!1,pattern:"rr",size:"1"},{continuation:!0,intact:!1,pattern:"tr",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ier",size:"3"}],s:[{appendage:"y",
continuation:!0,intact:!1,pattern:"ies",size:"3"},{continuation:!1,intact:!1,pattern:"sis",size:"2"},{continuation:!0,intact:!1,pattern:"is",size:"2"},{continuation:!0,intact:!1,pattern:"ness",size:"4"},{continuation:!1,intact:!1,pattern:"ss",size:"0"},{continuation:!0,intact:!1,pattern:"ous",size:"3"},{continuation:!1,intact:!0,pattern:"us",size:"2"},{continuation:!0,intact:!0,pattern:"s",size:"1"},{continuation:!1,intact:!1,pattern:"s",size:"0"}],t:[{appendage:"y",continuation:!1,intact:!1,pattern:"plicat",
size:"4"},{continuation:!0,intact:!1,pattern:"at",size:"2"},{continuation:!0,intact:!1,pattern:"ment",size:"4"},{continuation:!0,intact:!1,pattern:"ent",size:"3"},{continuation:!0,intact:!1,pattern:"ant",size:"3"},{appendage:"b",continuation:!1,intact:!1,pattern:"ript",size:"2"},{appendage:"b",continuation:!1,intact:!1,pattern:"orpt",size:"2"},{continuation:!1,intact:!1,pattern:"duct",size:"1"},{continuation:!1,intact:!1,pattern:"sumpt",size:"2"},{appendage:"i",continuation:!1,intact:!1,pattern:"cept",
size:"2"},{appendage:"v",continuation:!1,intact:!1,pattern:"olut",size:"2"},{continuation:!1,intact:!1,pattern:"sist",size:"0"},{continuation:!0,intact:!1,pattern:"ist",size:"3"},{continuation:!1,intact:!1,pattern:"tt",size:"1"}],u:[{continuation:!1,intact:!1,pattern:"iqu",size:"3"},{continuation:!1,intact:!1,pattern:"ogu",size:"1"}],v:[{appendage:"j",continuation:!0,intact:!1,pattern:"siv",size:"3"},{continuation:!1,intact:!1,pattern:"eiv",size:"0"},{continuation:!0,intact:!1,pattern:"iv",size:"2"}],
y:[{continuation:!0,intact:!1,pattern:"bly",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ily",size:"3"},{continuation:!1,intact:!1,pattern:"ply",size:"0"},{continuation:!0,intact:!1,pattern:"ly",size:"2"},{continuation:!1,intact:!1,pattern:"ogy",size:"1"},{continuation:!1,intact:!1,pattern:"phy",size:"1"},{continuation:!1,intact:!1,pattern:"omy",size:"1"},{continuation:!1,intact:!1,pattern:"opy",size:"1"},{continuation:!0,intact:!1,pattern:"ity",size:"3"},{continuation:!0,intact:!1,
pattern:"ety",size:"3"},{continuation:!1,intact:!1,pattern:"lty",size:"2"},{continuation:!1,intact:!1,pattern:"istry",size:"5"},{continuation:!0,intact:!1,pattern:"ary",size:"3"},{continuation:!0,intact:!1,pattern:"ory",size:"3"},{continuation:!1,intact:!1,pattern:"ify",size:"3"},{appendage:"t",continuation:!0,intact:!1,pattern:"ncy",size:"2"},{continuation:!0,intact:!1,pattern:"acy",size:"3"}],z:[{continuation:!0,intact:!1,pattern:"iz",size:"2"},{appendage:"s",continuation:!1,intact:!1,pattern:"yz",
size:"1"}]};return function(b){return a(b.toLowerCase(),!0)}}();Array.prototype._arrayContains=function(a){return-1<Array.prototype.indexOf(a)};String.prototype._endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)};ca.stem_Pling=function(){function a(a,b){return a.substring(0,a.length-b.length)}function b(d){if(!w(d))return m;var x=A[d];if(x)return x;if(h._arrayContains(d))return a(d,"a")+"on";if(f._arrayContains(d))return a(d,"a")+"um";if(p._arrayContains(d))return a(d,"ices")+"ix";
if(l._arrayContains(d))return a(d,"i")+"o";if(e._arrayContains(d))return a(d,"s");if(q._arrayContains(d)||d._endsWith("theses"))return a(d,"es")+"is";if(n._arrayContains(d))return a(d,"i")+"us";if(d._endsWith("uses")&&(n._arrayContains(a(d,"uses")+"i")||"genuses"===d||"corpuses"===d))return a(d,"es");if(r._arrayContains(d))return a(d,"ices")+"ex";if(d._endsWith("ois")||d._endsWith("itis")||g._arrayContains(d)||y._arrayContains(d))return d;if(d._endsWith("ina"))return a(d,"en");if(d._endsWith("ae"))return a(d,
"e");if(d._endsWith("ata"))return a(d,"ta");if(d._endsWith("trices"))return a(d,"trices")+"trix";if(x=d._endsWith("us"))if(x=!d._endsWith("eaus"))if(x=!d._endsWith("ieus"))x=!(0<d.indexOf("h")||0<d.indexOf("j")||0<d.indexOf("k")||0<d.indexOf("w")||0<d.indexOf("y")||0<d.indexOf("z")||0<d.indexOf("ou")||0<d.indexOf("sh")||0<d.indexOf("ch")||d._endsWith("aus"))&&!t._arrayContains(d);if(x)return d;if(d._endsWith("teeth"))return a(d,"teeth")+"tooth";if(d._endsWith("geese"))return a(d,"geese")+"goose";
if(d._endsWith("feet"))return a(d,"feet")+"foot";if(d._endsWith("zoa"))return a(d,"zoa")+"zoon";if(d._endsWith("eaux")||d._endsWith("ieux"))return a(d,"x");if(x=d._endsWith("nges"))x=0<d.indexOf("ph")||0<d.indexOf("y")&&d._endsWith("nges");return x?a(d,"nges")+"nx":d._endsWith("shes")||d._endsWith("ches")&&!v._arrayContains(d)||d._endsWith("sses")&&!u._arrayContains(d)&&!d._endsWith("mousses")||d._endsWith("xes")&&"axes"===!d?a(d,"es"):d._endsWith("nives")||d._endsWith("lives")&&!d._endsWith("olives")||
d._endsWith("wives")?a(d,"ves")+"fe":d._endsWith("alves")&&!d._endsWith("valves")||d._endsWith("olves")&&!d._endsWith("solves")||d._endsWith("eaves")&&!d._endsWith("heaves")&&!d._endsWith("weaves")||d._endsWith("arves")?a(d,"ves")+"f":d._endsWith("ies")&&!z._arrayContains(d)?a(d,"ies")+"y":d._endsWith("oes")&&!s._arrayContains(d)||d._endsWith("ses")||d._endsWith("zes")?a(d,"es"):!d._endsWith("s")||d._endsWith("ss")||d._endsWith("is")?d:a(d,"s")}var e=["nurses","cruises"],g="alias asbestos atlas barracks bathos bias breeches britches canvas chaos clippers contretemps corps cosmos crossroads diabetes ethos gallows gas graffiti headquarters herpes high-jinks innings jackanapes lens means measles mews mumps news pathos pincers pliers proceedings rabies rhinoceros sassafras scissors series shears species tuna".split(" "),
f="addenda agenda aquaria bacteria candelabra compendia consortia crania curricula data desiderata dicta emporia enconia errata extrema gymnasia honoraria interregna lustra maxima media memoranda millenia minima momenta optima ova phyla quanta rostra spectra specula stadia strata symposia trapezia ultimata vacua vela".split(" "),h="aphelia asyndeta automata criteria hyperbata noumena organa perihelia phenomena prolegomena".split(" "),l="alti bassi canti contralti crescendi libretti soli soprani tempi virtuosi".split(" "),
n="alumni bacilli cacti foci fungi genii hippopotami incubi nimbi nuclei nucleoli octopi radii stimuli styli succubi syllabi termini tori umbilici uteri".split(" "),p=["appendices","cervices"],q="analyses axes bases crises diagnoses ellipses em_PHASEs neuroses oases paralyses synopses".split(" "),s="aloes backhoes beroes canoes chigoes cohoes does felloes floes foes gumshoes hammertoes hoes hoopoes horseshoes leucothoes mahoes mistletoes oboes overshoes pahoehoes pekoes roes shoes sloes snowshoes throes tic-tac-toes tick-tack-toes ticktacktoes tiptoes tit-tat-toes toes toetoes tuckahoes woes".split(" "),
r="apices codices cortices indices latices murices pontifices silices simplices vertices vortices".split(" "),t="apercus barbus cornus ecrus emus fondus gnus iglus mus nandus napus poilus quipus snafus tabus tamandus tatus timucus tiramisus tofus tutus".split(" "),u="bouillabaisses coulisses crevasses crosses cuisses demitasses ecrevisses fesses finesses fosses impasses lacrosses largesses masses noblesses palliasses pelisses politesses posses tasses wrasses".split(" "),v="adrenarches attaches avalanches barouches brioches caches caleches caroches cartouches cliches cloches creches demarches douches gouaches guilloches headaches heartaches huaraches menarches microfiches moustaches mustaches niches panaches panoches pastiches penuches pinches postiches psyches quiches schottisches seiches soutaches synecdoches thelarches troches".split(" "),
y="aerobatics aerobics aerodynamics aeromechanics aeronautics alphanumerics animatronics apologetics architectonics astrodynamics astronautics astrophysics athletics atmospherics autogenics avionics ballistics bibliotics bioethics biometrics bionics bionomics biophysics biosystematics cacogenics calisthenics callisthenics catoptrics civics cladistics cryogenics cryonics cryptanalytics cybernetics cytoarchitectonics cytogenetics diagnostics dietetics dramatics dysgenics econometrics economics electromagnetics electronics electrostatics endodontics enterics ergonomics eugenics eurhythmics eurythmics exodontics fibreoptics futuristics genetics genomics geographics geophysics geopolitics geriatrics glyptics graphics gymnastics hermeneutics histrionics homiletics hydraulics hydrodynamics hydrokinetics hydroponics hydrostatics hygienics informatics kinematics kinesthetics kinetics lexicostatistics linguistics lithoglyptics liturgics logistics macrobiotics macroeconomics magnetics magnetohydrodynamics mathematics metamathematics metaphysics microeconomics microelectronics mnemonics morphophonemics neuroethics neurolinguistics nucleonics numismatics obstetrics onomastics orthodontics orthopaedics orthopedics orthoptics paediatrics patristics patristics pedagogics pediatrics periodontics pharmaceutics pharmacogenetics pharmacokinetics phonemics phonetics phonics photomechanics physiatrics pneumatics poetics politics pragmatics prosthetics prosthodontics proteomics proxemics psycholinguistics psychometrics psychonomics psychophysics psychotherapeutics robotics semantics semiotics semitropics sociolinguistics stemmatics strategics subtropics systematics tectonics telerobotics therapeutics thermionics thermodynamics thermostatics".split(" "),
z="aeries anomies aunties baddies beanies birdies boccies bogies bolshies bombies bonhomies bonxies booboisies boogies boogie-woogies bookies booties bosies bourgeoisies brasseries brassies brownies budgies byrnies caddies calories camaraderies capercaillies capercailzies cassies catties causeries charcuteries chinoiseries collies commies cookies coolies coonties cooties corries coteries cowpies cowries cozies crappies crossties curies dachsies darkies dassies dearies dickies dies dixies doggies dogies dominies dovekies eyries faeries falsies floozies folies foodies freebies gaucheries gendarmeries genies ghillies gillies goalies goonies grannies grotesqueries groupies hankies hippies hoagies honkies hymies indies junkies kelpies kilocalories knobkerries koppies kylies laddies lassies lies lingeries magpies magpies marqueteries mashies mealies meanies menageries millicuries mollies facts1 moxies neckties newbies nighties nookies oldies organdies panties parqueteries passementeries patisseries pies pinkies pixies porkpies potpies prairies preemies premies punkies pyxies quickies ramies reveries rookies rotisseries scrapies sharpies smoothies softies stoolies stymies swaggies sweeties talkies techies ties tooshies toughies townies veggies walkie-talkies wedgies weenies weirdies yardies yuppies zombies".split(" "),
A="beefs beef beeves beef brethren brother busses bus cattle cattlebeast children child corpora corpus ephemerides ephemeris firemen fireman genera genus genies genie genii genie kine cow lice louse men man mice mouse mongooses mongoose monies money mythoi mythos octopodes octopus octopuses octopus oxen ox people person soliloquies soliloquy throes throes trilbys trilby women woman".split(" ");return function(a){return b(a.toLowerCase())}}();var da={_min3:function(a,b,e){b<a&&(a=b);e<a&&(a=e);return a},
_computeRawArray:function(a,b){var e=[],g,f,h,l,m,n;if(!a.length)return b.length;if(!b.length)return a.length;h=0;for(m=a.length;h<=m;h++)e[h]=[],e[h][0]=h;l=0;for(n=b.length;l<=n;l++)e[0][l]=l;h=1;for(m=a.length;h<=m;h++)for(g=a[h-1],l=1,n=b.length;l<=n;l++)f=b[l-1],f=g===f?0:1,e[h][l]=this._min3(e[h-1][l]+1,e[h][l-1]+1,e[h-1][l-1]+f);return e[a.length][b.length]},computeRaw:function(a,b){if(x.get(a)===C)return this._computeRawArray(a,b);if(!a.length&&!b.length)return 0;var e=[],g,f,h=a.length,l=
b.length;if(!h)return l;if(!l)return h;for(var m=0;m<=h;m++)e[m]=[],e[m][0]=m;for(var n=0;n<=l;n++)e[0][n]=n;for(m=1;m<=h;m++)for(f=a.charAt(m-1),n=1;n<=l;n++)g=b.charAt(n-1),g=f==g?0:1,e[m][n]=this._min3(e[m-1][n]+1,e[m][n-1]+1,e[m-1][n-1]+g);return e[h][l]},computeAdjusted:function(a,b){var e=x.get(a),g=x.get(a);if(e===g){if(g===u)return a.length||b.length?this.computeRaw(a,b)/Math.max(a.length,b.length):0;if(g===C)return a.length||b.length?this._computeRawArray(a,b)/Math.max(a.length,b.length):
0}q("Unexpected args: "+a+"/"+b)}},b=B();b.prototype={init:function(a,b,e){this.regex=new RegExp(a);this.offset=b;this.suffix=e},applies:function(a){return this.regex.test(L(a))},fire:function(a){return this.truncate(L(a))+this.suffix},analyze:function(a){return this.suffix!=m&&H(a,this.suffix)?!0:!1},truncate:function(a){return 0==this.offset?a:a.substr(0,a.length-this.offset)}};var ea=function(a,b){var e=b||a,g={},f={},h=1E3,l=0,m=null,n=s.Linear.None,p=X.Linear,r=null,t=null,u=null;this.to=function(a,
b){null!==b&&(h=b);f=a;return this};this.start=function(b){a?a._addBehavior(this):q("Unable to add tween");m=b!==K?b:Date.now();m+=l;for(var d in f)if(null===e[d])console.error("null value in interpolater for: "+d);else{if(f[d]instanceof Array){if(0===f[d].length)continue;f[d]=[e[d]].concat(f[d])}g[d]=e[d]}return this};this.stop=function(){a&&a.stopBehavior(this);return this};this.delay=function(a){l=a;return this};this.easing=function(a){n=a;return this};this.interpolation=function(a){p=a;return this};
this.chain=function(a){r=a;return this};this.onUpdate=function(a){t=a;return this};this.onComplete=function(a){u=a;return this};this.update=function(a){if(a<m)return!0;a=(a-m)/h;a=1<a?1:a;var b=n(a),d;for(d in g){var l=g[d],q=f[d];e[d]=q instanceof Array?p(q,b):l+(q-l)*b}t&&t.call(e,b);return 1==a?(null!==u&&u.call(e),null!==r&&r.start(),!1):!0}},ya=B();ya.prototype={init:function(a,b){this.p=a;b||console.error("no canvas-context!");this.ctx=b},_size:function(){return this.p.size.apply(this,arguments)},
_getGraphics:function(){return this.p},_pushState:function(){this.ctx.save();return this},_popState:function(){this.ctx.restore();return this},_textAlign:function(a){this.p.textAlign.apply(this,arguments);return this},_scale:function(a,b){this.p.scale(a,b||1,1)},_translate:function(a,b){this.p.translate(a,b||0,0)},_rotate:function(a){this.p.rotate(a)},_text:function(a,b,e){this.p.text.apply(this,arguments)},_fill:function(a,b,e,g){this.p.fill.apply(this,arguments)},_stroke:function(a,b,e,g){this.p.stroke.apply(this,
arguments)},_noFill:function(){this.p.noFill()},_rect:function(a,b,e,g){this.p.rect.apply(this,arguments)},_strokeWeight:function(a){this.p.strokeWeight.apply(this,arguments)},_background:function(a,b,e,g){this.p.background.apply(this,arguments)},_createFont:function(a,b){return this.p.createFont(a,b)},_textFont:function(a){n(a,I)||q("_textFont takes object!");this.p.textFont(a,a.size)},_textSize:function(a){this.p.textSize(a)},_textWidth:function(a,b){this.ctx.save();this.p.textFont(a,a.size);var e=
this.p.textWidth(b);this.ctx.restore();return e},_textHeight:function(a){this.ctx.save();a=this._getBoundingBox(a).height;this.ctx.restore();return a},_textAscent:function(a,b){b=b||!1;b||(this.ctx.save(),this.p.textFont(a._font,a._font.size));var e=this.p.textAscent();b||this.ctx.restore();return e},_textDescent:function(a){this.ctx.save();this.p.textFont(a._font,a._font.size);a=this.p.textDescent();this.ctx.restore();return a},_getBoundingBox:function(a){this.ctx.save();this.p.textFont(a._font,
a._font.size);var b=this.p.textAscent(),e=this.p.textDescent();a=this.p.textWidth(a.text());this.ctx.restore();return{x:0,y:-b-1,width:a,height:b+e+1}},_type:function(){return"Processing"},toString:function(){return"RiText_"+this._type()}};var sa="Was What When Where How Which If Who Is Could Might Will Does Why Are".split(" "),ta="Was What When Where How Which Why Who Will".split(" "),Da=/[`~\"\/'_\-[\]{}()*+!?%&.,\\^$|#@<>|+=;:]/g,ua=/^[^0-9A-Za-z\s]*$/,J=[],r=" ",m="",N=x.N,u=x.S,I=x.O,C=x.A,va=
x.B,la=x.R,D=x.F,Aa=b("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"s"),oa=b("^(bantu|bengalese|bengali|beninese|boche|bonsai|digitalis|mess|burmese|chinese|colossus|congolese|discus|emphasis|gabonese|guyanese|japanese|javanese|lebanese|maltese|olympics|portuguese|senegalese|siamese|singhalese|innings|sinhalese|sioux|sudanese|swiss|taiwanese|togolese|vietnamese|aircraft|anopheles|apparatus|asparagus|barracks|bellows|bison|bluefish|bob|bourgeois|bream|brill|butterfingers|cargo|carp|catfish|chassis|clothes|chub|cod|codfish|coley|contretemps|corps|crawfish|crayfish|crossroads|cuttlefish|dace|deer|dice|dogfish|doings|dory|downstairs|eldest|earnings|economics|electronics|finnan|firstborn|fish|flatfish|flounder|fowl|fry|fries|works|globefish|goldfish|golf|grand|grief|gudgeon|gulden|haddock|hake|halibut|headquarters|herring|hertz|horsepower|goods|hovercraft|hundredweight|ironworks|jackanapes|kilohertz|kurus|kwacha|ling|lungfish|mackerel|means|megahertz|moorfowl|moorgame|mullet|nepalese|offspring|pampas|parr|pants|patois|pekinese|penn'orth|perch|pickerel|pike|pince-nez|plaice|precis|quid|rand|rendezvous|revers|roach|roux|salmon|samurai|series|seychelles|seychellois|shad|sheep|shellfish|smelt|spacecraft|species|starfish|stockfish|sunfish|superficies|sweepstakes|swordfish|tench|tennis|[a-z]+osis|[a-z]+itis|[a-z]+ness|tobacco|tope|triceps|trout|tuna|tunafish|tunny|turbot|trousers|undersigned|veg|waterfowl|waterworks|waxworks|whiting|wildfowl|woodworm|yen|aries|pisces|forceps|lieder|jeans|physics|mathematics|news|odds|politics|remains|surroundings|thanks|statistics|goods|aids|wildlife)$",
0,m),Ba=[oa,b("^(oxen|buses)$",2,m),b("^(toes|taxis)$",1,m),b("^series$",0,m),b("(men|women)$",2,"an"),b("^[lm]ice$",3,"ouse"),b("^children",3,m),b("^(appendices|indices|matrices)",3,"x"),b("^(stimuli|alumni)$",1,"us"),b("^(data)$",1,"um"),b("^(memoranda|bacteria|curricula|minima|maxima|referenda|spectra|phenomena|criteria)$",1,"um"),b("monies",3,"ey"),b("people",4,"rson"),b("^meninges|phalanges$",3,"x"),b("schemata$",2,"s"),b("^corpora$",3,"us"),b("^(curi|formul|vertebr|larv|uln|alumn|signor|alg)ae$",
1,m),b("^apices|cortices$",4,"ex"),b("^teeth$",4,"ooth"),b("^feet$",3,"oot"),b("femora",3,"ur"),b("geese",4,"oose"),b("crises",2,"is"),b("(human|german|roman)$",0,"s")],Z="^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",za=[oa,b("^(piano|photo|solo|ego|tobacco|cargo|golf|grief)$",0,"s"),b("^(wildlife)$",0,"s"),b("[bcdfghjklmnpqrstvwxyz]o$",0,"es"),b("[bcdfghjklmnpqrstvwxyz]y$",1,"ies"),b("^ox$",0,"en"),b("^(stimulus|alumnus)$",2,"i"),b("^corpus$",2,"ora"),b("(xis|sis)$",2,"es"),b("([zsx]|ch|sh)$",0,"es"),
b("[lraeiou]fe$",2,"ves"),b("[lraeiou]f$",1,"ves"),b("(eu|eau)$",0,"x"),b("(man|woman)$",2,"en"),b("money$",2,"ies"),b("person$",4,"ople"),b("motif$",0,"s"),b("^meninx|phalanx$",1,"ges"),b("schema$",0,"ta"),b("^bus$",0,"ses"),b("child$",0,"ren"),b("^(curi|formul|vertebr|larv|uln|alumn|signor|alg)a$",0,"e"),b("^(maharaj|raj|myn|mull)a$",0,"hs"),b("^aide-de-camp$",8,"s-de-camp"),b("^apex|cortex$",2,"ices"),b("^weltanschauung$",0,"en"),b("^lied$",0,"er"),b("^tooth$",4,"eeth"),b("^[lm]ouse$",4,"ice"),
b("^foot$",3,"eet"),b("femur",2,"ora"),b("goose",4,"eese"),b("(human|german|roman)$",0,"s"),b("^(monarch|loch|stomach)$",0,"s"),b("^(taxi|chief|proof|ref|relief|roof|belief)$",0,"s"),b("^(co|no)$",0,"'s"),b("^blond$",0,"es"),b("^(memorandum|bacterium|curriculum|minimum|maximum|referendum|spectrum|phenomenon|criterion)$",2,"a"),b("^(appendix|index|matrix)",2,"ices")],Z="^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",ha="shall would may might ought should".split(" "),Ja=[b("[bcdfghjklmnpqrstvwxyz]ie$",2,
"ying",1),b("[^ie]e$",1,"ing",1),b("^bog-down$",5,"ging-down",0),b("^chivy$",1,"vying",0),b("^trek$",1,"cking",0),b("^bring$",0,"ing",0),b("^be$",0,"ing",0),b("^age$",1,"ing",0),b("(ibe)$",1,"ing",0)],Ka=[b("[bcdfghjklmnpqrstvwxyz]y$",1,"ied",1),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bring)$",3,"ought",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(take|rise|strew|blow|draw|drive|know|give|arise|gnaw|grave|grow|hew|know|mow|see|sew|throw|prove|saw|quartersaw|partake|sake|shake|shew|show|shrive|sightsee|strew|strive)$",
0,"n",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[gd]o$",0,"ne",1),b("^(beat|eat|be|fall)$",0,"en",0),b("^(have)$",2,"d",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?bid$",0,"den",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[lps]ay$",1,"id",1),b("^behave$",0,"d",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?have$",2,"d",1),b("(sink|slink|drink|shrink|stink)$",3,
"unk",0),b("(([sfc][twlp]?r?|w?r)ing|hang)$",3,"ung",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(shear|swear|bear|wear|tear)$",3,"orn",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bend|spend|send|lend)$",1,"t",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(weep|sleep|sweep|creep|keep$)$",2,"pt",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(sell|tell)$",3,"old",
0),b("^(outfight|beseech)$",4,"ought",0),b("^bethink$",3,"ought",0),b("^buy$",2,"ought",0),b("^aby$",1,"ought",0),b("^tarmac",0,"ked",0),b("^abide$",3,"ode",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(speak|(a?)wake|break)$",3,"oken",0),b("^backbite$",1,"ten",0),b("^backslide$",1,"den",0),b("^become$",3,"ame",0),b("^begird$",3,"irt",0),b("^outlie$",2,"ay",0),b("^rebind$",3,"ound",0),b("^relay$",2,"aid",0),b("^shit$",3,"hat",0),b("^bereave$",4,"eft",0),b("^foreswear$",
3,"ore",0),b("^overfly$",1,"own",0),b("^beget$",2,"otten",0),b("^begin$",3,"gun",0),b("^bestride$",1,"den",0),b("^bite$",1,"ten",0),b("^bleed$",4,"led",0),b("^bog-down$",5,"ged-down",0),b("^bind$",3,"ound",0),b("^(.*)feed$",4,"fed",0),b("^breed$",4,"red",0),b("^brei",0,"d",0),b("^bring$",3,"ought",0),b("^build$",1,"t",0),b("^come",0,m,0),b("^catch$",3,"ught",0),b("^chivy$",1,"vied",0),b("^choose$",3,"sen",0),b("^cleave$",4,"oven",0),b("^crossbreed$",4,"red",0),b("^deal",0,"t",0),b("^dow$",1,"ught",
0),b("^dream",0,"t",0),b("^dig$",3,"dug",0),b("^dwell$",2,"lt",0),b("^enwind$",3,"ound",0),b("^feel$",3,"elt",0),b("^flee$",2,"ed",0),b("^floodlight$",5,"lit",0),b("^fly$",1,"own",0),b("^forbear$",3,"orne",0),b("^forerun$",3,"ran",0),b("^forget$",2,"otten",0),b("^fight$",4,"ought",0),b("^find$",3,"ound",0),b("^freeze$",4,"ozen",0),b("^gainsay$",2,"aid",0),b("^gin$",3,"gan",0),b("^gen-up$",3,"ned-up",0),b("^ghostwrite$",1,"ten",0),b("^get$",2,"otten",0),b("^grind$",3,"ound",0),b("^hacksaw",0,"n",0),
b("^hear",0,"d",0),b("^hold$",3,"eld",0),b("^hide$",1,"den",0),b("^honey$",2,"ied",0),b("^inbreed$",4,"red",0),b("^indwell$",3,"elt",0),b("^interbreed$",4,"red",0),b("^interweave$",4,"oven",0),b("^inweave$",4,"oven",0),b("^ken$",2,"ent",0),b("^kneel$",3,"elt",0),b("^lie$",2,"ain",0),b("^leap$",0,"t",0),b("^learn$",0,"t",0),b("^lead$",4,"led",0),b("^leave$",4,"eft",0),b("^light$",5,"lit",0),b("^lose$",3,"ost",0),b("^make$",3,"ade",0),b("^mean",0,"t",0),b("^meet$",4,"met",0),b("^misbecome$",3,"ame",
0),b("^misdeal$",2,"alt",0),b("^mishear$",1,"d",0),b("^mislead$",4,"led",0),b("^misunderstand$",3,"ood",0),b("^outbreed$",4,"red",0),b("^outrun$",3,"ran",0),b("^outride$",1,"den",0),b("^outshine$",3,"one",0),b("^outshoot$",4,"hot",0),b("^outstand$",3,"ood",0),b("^outthink$",3,"ought",0),b("^outgo$",2,"went",0),b("^overbear$",3,"orne",0),b("^overbuild$",3,"ilt",0),b("^overcome$",3,"ame",0),b("^overfly$",2,"lew",0),b("^overhear$",2,"ard",0),b("^overlie$",2,"ain",0),b("^overrun$",3,"ran",0),b("^override$",
1,"den",0),b("^overshoot$",4,"hot",0),b("^overwind$",3,"ound",0),b("^overwrite$",1,"ten",0),b("^plead$",2,"d",0),b("^rebuild$",3,"ilt",0),b("^red$",3,"red",0),b("^redo$",1,"one",0),b("^remake$",3,"ade",0),b("^resit$",3,"sat",0),b("^rethink$",3,"ought",0),b("^rewind$",3,"ound",0),b("^rewrite$",1,"ten",0),b("^ride$",1,"den",0),b("^reeve$",4,"ove",0),b("^sit$",3,"sat",0),b("^shoe$",3,"hod",0),b("^shine$",3,"one",0),b("^shoot$",4,"hot",0),b("^ski$",1,"i'd",0),b("^slide$",1,"den",0),b("^smite$",1,"ten",
0),b("^seek$",3,"ought",0),b("^spit$",3,"pat",0),b("^speed$",4,"ped",0),b("^spellbind$",3,"ound",0),b("^spoil$",2,"ilt",0),b("^spotlight$",5,"lit",0),b("^spin$",3,"pun",0),b("^steal$",3,"olen",0),b("^stand$",3,"ood",0),b("^stave$",3,"ove",0),b("^stride$",1,"den",0),b("^strike$",3,"uck",0),b("^stick$",3,"uck",0),b("^swell$",3,"ollen",0),b("^swim$",3,"wum",0),b("^teach$",4,"aught",0),b("^think$",3,"ought",0),b("^tread$",3,"odden",0),b("^typewrite$",1,"ten",0),b("^unbind$",3,"ound",0),b("^underbuy$",
2,"ought",0),b("^undergird$",3,"irt",0),b("^undergo$",1,"one",0),b("^underlie$",2,"ain",0),b("^undershoot$",4,"hot",0),b("^understand$",3,"ood",0),b("^unfreeze$",4,"ozen",0),b("^unlearn",0,"t",0),b("^unmake$",3,"ade",0),b("^unreeve$",4,"ove",0),b("^unstick$",3,"uck",0),b("^unteach$",4,"aught",0),b("^unthink$",3,"ought",0),b("^untread$",3,"odden",0),b("^unwind$",3,"ound",0),b("^upbuild$",1,"t",0),b("^uphold$",3,"eld",0),b("^upheave$",4,"ove",0),b("^waylay$",2,"ain",0),b("^whipsaw$",2,"awn",0),b("^withhold$",
3,"eld",0),b("^withstand$",3,"ood",0),b("^win$",3,"won",0),b("^wind$",3,"ound",0),b("^weave$",4,"oven",0),b("^write$",1,"ten",0),b("^trek$",1,"cked",0),b("^ko$",1,"o'd",0),b("^win$",2,"on",0),b("e$",0,"d",1),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|hit|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|rerun|shut|shed)$",0,m,0)],La=[b("^(reduce)$",0,"d",0),b("e$",
0,"d",1),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?[pls]ay$",1,"id",1),b("[bcdfghjklmnpqrstvwxyz]y$",1,"ied",1),b("^(fling|cling|hang)$",3,"ung",0),b("(([sfc][twlp]?r?|w?r)ing)$",3,"ang",1),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(bend|spend|send|lend|spend)$",1,"t",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?lie$",2,"ay",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(weep|sleep|sweep|creep|keep)$",
2,"pt",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(sell|tell)$",3,"old",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?do$",1,"id",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?dig$",2,"ug",0),b("^behave$",0,"d",0),b("^(have)$",2,"d",0),b("(sink|drink)$",3,"ank",0),b("^swing$",3,"ung",0),b("^be$",2,"was",0),b("^outfight$",4,"ought",0),b("^tarmac",0,"ked",0),b("^abide$",3,"ode",0),b("^aby$",1,"ought",
0),b("^become$",3,"ame",0),b("^begird$",3,"irt",0),b("^outlie$",2,"ay",0),b("^rebind$",3,"ound",0),b("^shit$",3,"hat",0),b("^bereave$",4,"eft",0),b("^foreswear$",3,"ore",0),b("^bename$",3,"empt",0),b("^beseech$",4,"ought",0),b("^bethink$",3,"ought",0),b("^bleed$",4,"led",0),b("^bog-down$",5,"ged-down",0),b("^buy$",2,"ought",0),b("^bind$",3,"ound",0),b("^(.*)feed$",4,"fed",0),b("^breed$",4,"red",0),b("^brei$",2,"eid",0),b("^bring$",3,"ought",0),b("^build$",3,"ilt",0),b("^come$",3,"ame",0),b("^catch$",
3,"ught",0),b("^clothe$",5,"lad",0),b("^crossbreed$",4,"red",0),b("^deal$",2,"alt",0),b("^dow$",1,"ught",0),b("^dream$",2,"amt",0),b("^dwell$",3,"elt",0),b("^enwind$",3,"ound",0),b("^feel$",3,"elt",0),b("^flee$",3,"led",0),b("^floodlight$",5,"lit",0),b("^arise$",3,"ose",0),b("^eat$",3,"ate",0),b("^backbite$",4,"bit",0),b("^backslide$",4,"lid",0),b("^befall$",3,"ell",0),b("^begin$",3,"gan",0),b("^beget$",3,"got",0),b("^behold$",3,"eld",0),b("^bespeak$",3,"oke",0),b("^bestride$",3,"ode",0),b("^betake$",
3,"ook",0),b("^bite$",4,"bit",0),b("^blow$",3,"lew",0),b("^bear$",3,"ore",0),b("^break$",3,"oke",0),b("^choose$",4,"ose",0),b("^cleave$",4,"ove",0),b("^countersink$",3,"ank",0),b("^drink$",3,"ank",0),b("^draw$",3,"rew",0),b("^drive$",3,"ove",0),b("^fall$",3,"ell",0),b("^fly$",2,"lew",0),b("^flyblow$",3,"lew",0),b("^forbid$",2,"ade",0),b("^forbear$",3,"ore",0),b("^foreknow$",3,"new",0),b("^foresee$",3,"saw",0),b("^forespeak$",3,"oke",0),b("^forego$",2,"went",0),b("^forgive$",3,"ave",0),b("^forget$",
3,"got",0),b("^forsake$",3,"ook",0),b("^forspeak$",3,"oke",0),b("^forswear$",3,"ore",0),b("^forgo$",2,"went",0),b("^fight$",4,"ought",0),b("^find$",3,"ound",0),b("^freeze$",4,"oze",0),b("^give$",3,"ave",0),b("^geld$",3,"elt",0),b("^gen-up$",3,"ned-up",0),b("^ghostwrite$",3,"ote",0),b("^get$",3,"got",0),b("^grow$",3,"rew",0),b("^grind$",3,"ound",0),b("^hear$",2,"ard",0),b("^hold$",3,"eld",0),b("^hide$",4,"hid",0),b("^honey$",2,"ied",0),b("^inbreed$",4,"red",0),b("^indwell$",3,"elt",0),b("^interbreed$",
4,"red",0),b("^interweave$",4,"ove",0),b("^inweave$",4,"ove",0),b("^ken$",2,"ent",0),b("^kneel$",3,"elt",0),b("^^know$$",3,"new",0),b("^leap$",2,"apt",0),b("^learn$",2,"rnt",0),b("^lead$",4,"led",0),b("^leave$",4,"eft",0),b("^light$",5,"lit",0),b("^lose$",3,"ost",0),b("^make$",3,"ade",0),b("^mean$",2,"ant",0),b("^meet$",4,"met",0),b("^misbecome$",3,"ame",0),b("^misdeal$",2,"alt",0),b("^misgive$",3,"ave",0),b("^mishear$",2,"ard",0),b("^mislead$",4,"led",0),b("^mistake$",3,"ook",0),b("^misunderstand$",
3,"ood",0),b("^outbreed$",4,"red",0),b("^outgrow$",3,"rew",0),b("^outride$",3,"ode",0),b("^outshine$",3,"one",0),b("^outshoot$",4,"hot",0),b("^outstand$",3,"ood",0),b("^outthink$",3,"ought",0),b("^outgo$",2,"went",0),b("^outwear$",3,"ore",0),b("^overblow$",3,"lew",0),b("^overbear$",3,"ore",0),b("^overbuild$",3,"ilt",0),b("^overcome$",3,"ame",0),b("^overdraw$",3,"rew",0),b("^overdrive$",3,"ove",0),b("^overfly$",2,"lew",0),b("^overgrow$",3,"rew",0),b("^overhear$",2,"ard",0),b("^overpass$",3,"ast",0),
b("^override$",3,"ode",0),b("^oversee$",3,"saw",0),b("^overshoot$",4,"hot",0),b("^overthrow$",3,"rew",0),b("^overtake$",3,"ook",0),b("^overwind$",3,"ound",0),b("^overwrite$",3,"ote",0),b("^partake$",3,"ook",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?run$",2,"an",0),b("^ring$",3,"ang",0),b("^rebuild$",3,"ilt",0),b("^red",0,m,0),b("^reave$",4,"eft",0),b("^remake$",3,"ade",0),b("^resit$",3,"sat",0),b("^rethink$",3,"ought",0),b("^retake$",3,"ook",0),b("^rewind$",3,
"ound",0),b("^rewrite$",3,"ote",0),b("^ride$",3,"ode",0),b("^rise$",3,"ose",0),b("^reeve$",4,"ove",0),b("^sing$",3,"ang",0),b("^sink$",3,"ank",0),b("^sit$",3,"sat",0),b("^see$",3,"saw",0),b("^shoe$",3,"hod",0),b("^shine$",3,"one",0),b("^shake$",3,"ook",0),b("^shoot$",4,"hot",0),b("^shrink$",3,"ank",0),b("^shrive$",3,"ove",0),b("^sightsee$",3,"saw",0),b("^ski$",1,"i'd",0),b("^skydive$",3,"ove",0),b("^slay$",3,"lew",0),b("^slide$",4,"lid",0),b("^slink$",3,"unk",0),b("^smite$",4,"mit",0),b("^seek$",
3,"ought",0),b("^spit$",3,"pat",0),b("^speed$",4,"ped",0),b("^spellbind$",3,"ound",0),b("^spoil$",2,"ilt",0),b("^speak$",3,"oke",0),b("^spotlight$",5,"lit",0),b("^spring$",3,"ang",0),b("^spin$",3,"pun",0),b("^stink$",3,"ank",0),b("^steal$",3,"ole",0),b("^stand$",3,"ood",0),b("^stave$",3,"ove",0),b("^stride$",3,"ode",0),b("^strive$",3,"ove",0),b("^strike$",3,"uck",0),b("^stick$",3,"uck",0),b("^swim$",3,"wam",0),b("^swear$",3,"ore",0),b("^teach$",4,"aught",0),b("^think$",3,"ought",0),b("^throw$",3,
"rew",0),b("^take$",3,"ook",0),b("^tear$",3,"ore",0),b("^transship$",4,"hip",0),b("^tread$",4,"rod",0),b("^typewrite$",3,"ote",0),b("^unbind$",3,"ound",0),b("^unclothe$",5,"lad",0),b("^underbuy$",2,"ought",0),b("^undergird$",3,"irt",0),b("^undershoot$",4,"hot",0),b("^understand$",3,"ood",0),b("^undertake$",3,"ook",0),b("^undergo$",2,"went",0),b("^underwrite$",3,"ote",0),b("^unfreeze$",4,"oze",0),b("^unlearn$",2,"rnt",0),b("^unmake$",3,"ade",0),b("^unreeve$",4,"ove",0),b("^unspeak$",3,"oke",0),b("^unstick$",
3,"uck",0),b("^unswear$",3,"ore",0),b("^unteach$",4,"aught",0),b("^unthink$",3,"ought",0),b("^untread$",4,"rod",0),b("^unwind$",3,"ound",0),b("^upbuild$",3,"ilt",0),b("^uphold$",3,"eld",0),b("^upheave$",4,"ove",0),b("^uprise$",3,"ose",0),b("^upspring$",3,"ang",0),b("^go$",2,"went",0),b("^wiredraw$",3,"rew",0),b("^withdraw$",3,"rew",0),b("^withhold$",3,"eld",0),b("^withstand$",3,"ood",0),b("^wake$",3,"oke",0),b("^win$",3,"won",0),b("^wear$",3,"ore",0),b("^wind$",3,"ound",0),b("^weave$",4,"ove",0),
b("^write$",3,"ote",0),b("^trek$",1,"cked",0),b("^ko$",1,"o'd",0),b("^bid",2,"ade",0),b("^win$",2,"on",0),b("^swim",2,"am",0),b("^((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|shut|shed|lay)$",0,m,0)],Ma=[b("^aby$",0,"es",0),b("^bog-down$",5,"s-down",0),b("^chivy$",1,"vies",0),b("^gen-up$",3,"s-up",0),b("^prologue$",
3,"gs",0),b("^picknic$",0,"ks",0),b("^ko$",0,"'s",0),b("[osz]$",0,"es",1),b("^have$",2,"s",0),b("[bcdfghjklmnpqrstvwxyz]y$",1,"ies",1),b("^be$",2,"is"),b("([zsx]|ch|sh)$",0,"es",1)],Ea="abat abet abhor abut accur acquit adlib admit aerobat aerosol agendaset allot alot anagram annul appal apparel armbar aver babysit airdrop appal blackleg bobsled bur chum confab counterplot curet dib backdrop backfil backflip backlog backpedal backslap backstab bag balfun ballot ban bar barbel bareleg barrel bat bayonet becom bed bedevil bedwet beenhop befit befog beg beget begin bejewel bemedal benefit benum beset besot bestir bet betassel bevel bewig bib bid billet bin bip bit bitmap blab blag blam blan blat bles blim blip blob bloodlet blot blub blur bob bodypop bog booby-trap boobytrap booksel bootleg bop bot bowel bracket brag brig brim bud buffet bug bullshit bum bun bus but cab cabal cam can cancel cap caracol caravan carburet carnap carol carpetbag castanet cat catcal catnap cavil chan chanel channel chap char chargecap chat chin chip chir chirrup chisel chop chug chur clam clap clearcut clip clodhop clog clop closet clot club co-occur co-program co-refer co-run co-star cob cobweb cod coif com combat comit commit compel con concur confer confiscat control cop coquet coral corbel corral cosset cotransmit councel council counsel court-martial crab cram crap crib crop crossleg cub cudgel cum cun cup cut dab dag dam dan dap daysit de-control de-gazet de-hul de-instal de-mob de-program de-rig de-skil deadpan debag debar log decommit decontrol defer defog deg degas deinstal demit demob demur den denet depig depip depit der deskil deter devil diagram dial dig dim din dip disbar disbud discomfit disembed disembowel dishevel disinter dispel disprefer distil dog dognap don doorstep dot dowel drag drat driftnet distil egotrip enrol enthral extol fulfil gaffe golliwog idyl inspan drip drivel drop drub drug drum dub duel dun dybbuk earwig eavesdrop ecolabel eitherspigot electroblot embed emit empanel enamel endlabel endtrim enrol enthral entrammel entrap enwrap equal equip estop exaggerat excel expel extol fag fan farewel fat featherbed feget fet fib fig fin fingerspel fingertip fit flab flag flap flip flit flog flop fob focus fog footbal footslog fop forbid forget format fortunetel fot foxtrot frag freefal fret frig frip frog frug fuel fufil fulfil fullyfit fun funnel fur furpul gab gad gag gam gambol gap garot garrot gas gat gel gen get giftwrap gig gimbal gin glam glenden glendin globetrot glug glut gob goldpan goostep gossip grab gravel grid grin grip grit groundhop grovel grub gum gun gunrun gut gyp haircut ham han handbag handicap handknit handset hap hareleg hat headbut hedgehop hem hen hiccup highwal hip hit hobnob hog hop horsewhip hostel hot hotdog hovel hug hum humbug hup hushkit hut illfit imbed immunblot immunoblot impannel impel imperil incur infer infil inflam initial input inset instil inter interbed intercrop intercut interfer instal instil intermit japan jug kris manumit mishit mousse mud interwar jab jag jam jar jawdrop jet jetlag jewel jib jig jitterbug job jog jog-trot jot jut ken kennel kid kidnap kip kissogram kit knap kneecap knit knob knot kor label lag lam lap lavel leafcut leapfrog leg lem lep let level libel lid lig lip lob log lok lollop longleg lop lowbal lug mackerel mahom man map mar marshal marvel mat matchwin metal micro-program microplan microprogram milksop mis-cal mis-club mis-spel miscal mishit mislabel mit mob mod model mohmam monogram mop mothbal mug multilevel mum nab nag nan nap net nightclub nightsit nip nod nonplus norkop nostril not nut nutmeg occur ocur offput offset omit ommit onlap out-general out-gun out-jab out-plan out-pol out-pul out-put out-run out-sel outbid outcrop outfit outgas outgun outhit outjab outpol output outrun outship outshop outsin outstrip outswel outspan overcrop pettifog photostat pouf preset prim pug ret rosin outwit over-commit over-control over-fil over-fit over-lap over-model over-pedal over-pet over-run over-sel over-step over-tip over-top overbid overcal overcommit overcontrol overcrap overdub overfil overhat overhit overlap overman overplot overrun overshop overstep overtip overtop overwet overwil pad paintbal pan panel paperclip par parallel parcel partiescal pat patrol pedal peewit peg pen pencil pep permit pet petal photoset phototypeset phut picket pig pilot pin pinbal pip pipefit pipet pit plan plit plod plop plot plug plumet plummet pod policyset polyfil ponytrek pop pot pram prebag predistil predril prefer prefil preinstal prep preplan preprogram prizewin prod profer prog program prop propel pub pummel pun pup pushfit put quarel quarrel quickskim quickstep quickwit quip quit quivertip quiz rabbit rabit radiolabel rag ram ramrod rap rat ratecap ravel re-admit re-cal re-cap re-channel re-dig re-dril re-emit re-fil re-fit re-flag re-format re-fret re-hab re-instal re-inter re-lap re-let re-map re-metal re-model re-pastel re-plan re-plot re-plug re-pot re-program re-refer re-rig re-rol re-run re-sel re-set re-skin re-stal re-submit re-tel re-top re-transmit re-trim re-wrap readmit reallot rebel rebid rebin rebut recap rechannel recommit recrop recur recut red redril refer refit reformat refret refuel reget regret reinter rejig rekit reknot relabel relet rem remap remetal remit remodel reoccur rep repel repin replan replot repol repot reprogram rerun reset resignal resit reskil resubmit retransfer retransmit retro-fit retrofit rev revel revet rewrap rib richochet ricochet rid rig rim ringlet rip rit rival rivet roadrun rob rocket rod roset rot rowel rub run runnel rut sab sad sag sandbag sap scab scalpel scam scan scar scat schlep scrag scram shall sled smut stet sulfuret trepan unrip unstop whir whop wig scrap scrat scrub scrum scud scum scur semi-control semi-skil semi-skim semiskil sentinel set shag sham shed shim shin ship shir shit shlap shop shopfit shortfal shot shovel shred shrinkwrap shrivel shrug shun shut side-step sideslip sidestep signal sin sinbin sip sit skid skim skin skip skir skrag slab slag slam slap slim slip slit slob slog slop slot slowclap slug slum slur smit snag snap snip snivel snog snorkel snowcem snub snug sob sod softpedal son sop spam span spar spat spiderweb spin spiral spit splat split spot sprag spraygun sprig springtip spud spur squat squirrel stab stag star stem sten stencil step stir stop storytel strap strim strip strop strug strum strut stub stud stun sub subcrop sublet submit subset suedetrim sum summit sun suntan sup super-chil superad swab swag swan swap swat swig swim swivel swot tab tag tan tansfer tap tar tassel tat tefer teleshop tendril terschel th'strip thermal thermostat thin throb thrum thud thug tightlip tin tinsel tip tittup toecap tog tom tomorrow top tot total towel traget trainspot tram trammel transfer tranship transit transmit transship trap travel trek trendset trim trip tripod trod trog trot trousseaushop trowel trup tub tug tunnel tup tut twat twig twin twit typeset tyset un-man unban unbar unbob uncap unclip uncompel undam under-bil under-cut under-fit under-pin under-skil underbid undercut underlet underman underpin unfit unfulfil unknot unlip unlywil unman unpad unpeg unpin unplug unravel unrol unscrol unsnap unstal unstep unstir untap unwrap unzip up upset upskil upwel ven verbal vet victual vignet wad wag wainscot wan war water-log waterfal waterfil waterlog weasel web wed wet wham whet whip whir whiteskin whiz whup wildcat win windmil wit woodchop woodcut wor worship wrap wiretap yen yak yap yarnspin yip yodel zag zap zig zig-zag zigzag zip ztrip hand-bag hocus hocus-pocus".split(" "),
Ia={name:"PAST_PARTICIPLE",defaultRule:b(Z,0,"ed",2),rules:Ka,doubling:!0},Ha={name:"ING_FORM",defaultRule:b(Z,0,"ing",2),rules:Ja,doubling:!0},Fa={name:"PAST_TENSE",defaultRule:b(Z,0,"ed",2),rules:La,doubling:!0},Ga={name:"PRESENT_TENSE",defaultRule:b(Z,0,"s",2),rules:Ma,doubling:!1},ia="undefined"!==typeof Processing;ia?Processing.registerLibrary("RiTa",{attach:function(a){var b=a.externals.canvas.getContext("2d");h.renderer=new ya(a,b)}}):(U()||y("Unknown Env: not Processing, Node, or Canvas; renderer is null"),
h.renderer=xa());RiTa.SILENT||console&&console.log("[INFO] RiTaJS.version ["+RiTa.VERSION+"]");p&&(p.RiTa=RiTa,p.RiText=h,p.RiString=A,p.RiLexicon=t,p.RiGrammar=E,p.RiMarkov=M,p.RiTaEvent=G,p.RiWordNet=ka);"undefined"!=typeof module&&module.exports&&(module.exports.RiTa=RiTa,module.exports.RiText=h,module.exports.RiString=A,module.exports.RiLexicon=t,module.exports.RiGrammar=E,module.exports.RiMarkov=M,module.exports.RiTaEvent=G,module.exports.RiWordNet=ka);RiTa.p5Compatible(!1)})("undefined"!==typeof window?
window:null);
